===== app/action/page.tsx =====
// app/action/page.tsx
'use client';

import { motion } from 'framer-motion';
import { Send, Share2, Mail, Twitter, Facebook, ExternalLink } from 'lucide-react';
import Navbar from '@/components/Navbar';
import PetitionForm from '@/components/PetitionForm';

const petitionTextForEmail = `Dear Members of Congress,

I am writing to demand the immediate passage of the Newborn and Foster Child Accountability Act.

Every year, the state removes approximately 22,000 newborns and infants from their parents and places them into foster care.

The 2023 HHS OIG audit revealed that 69% of missing episodes from foster care were never properly reported to the national system.

We demand:
1. Annual public, anonymized dashboards tracking every CPS-involved child from removal to outcome.
2. Automatic, real-time public reporting of every missing-from-care episode to NCMEC.
3. Mandatory state-by-state performance dashboards open to the public.
4. Federal funding tied to compliance and transparent reporting.

Privacy should protect children — not shield a failing system.

The public has a right to know where the children are.

Sincerely,`;

export default function ActionPage() {
  return (
    <div className="min-h-screen bg-[#0A1428] text-white">
      <Navbar />

      {/* Hero */}
      <section className="pt-28 pb-12 text-center">
        <motion.div
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          className="max-w-3xl mx-auto px-6"
        >
          <div className="text-red-400 text-sm font-mono tracking-[4px] uppercase mb-4">THE MOMENT IS NOW</div>
          <h1 className="text-5xl md:text-7xl font-bold tracking-tighter leading-none mb-6">
            Take <span className="text-red-400">Action</span>
          </h1>
          <p className="text-xl text-white/70">
            The data is undeniable. Sign the petition, email your representatives, and share the truth.
          </p>
        </motion.div>
      </section>

      {/* Petition Form */}
      <section className="py-12">
        <div className="max-w-3xl mx-auto px-6">
          <div className="bg-white/[0.03] border border-white/10 rounded-3xl p-8 md:p-12">
            <h2 className="text-3xl font-bold mb-2">Sign the Petition</h2>
            <p className="text-white/50 mb-8">
              Demand the <span className="text-red-400 font-medium">Newborn &amp; Foster Child Accountability Act</span>
            </p>
            <PetitionForm />
          </div>
        </div>
      </section>

      {/* Email Your Reps */}
      <section className="py-16">
        <div className="max-w-4xl mx-auto px-6">
          <h3 className="text-center text-2xl font-bold mb-8">Or Email Your Representatives Directly</h3>

          <div className="grid md:grid-cols-2 gap-6">
            <div className="bg-white/5 border border-white/10 rounded-2xl p-8 hover:border-red-500/30 transition-all">
              <div className="flex items-center gap-4 mb-4">
                <Mail className="w-8 h-8 text-red-400" />
                <div>
                  <div className="font-semibold text-lg">Email Your Senators</div>
                  <div className="text-white/50 text-sm">Takes 30 seconds</div>
                </div>
              </div>
              <a
                href={`mailto:senator@senate.gov?subject=Pass%20the%20Newborn%20and%20Foster%20Child%20Accountability%20Act&body=${encodeURIComponent(petitionTextForEmail)}`}
                className="block w-full bg-white/10 hover:bg-white/20 border border-white/20 py-4 rounded-2xl text-center font-medium transition-colors"
              >
                OPEN EMAIL TO SENATORS →
              </a>
            </div>

            <div className="bg-white/5 border border-white/10 rounded-2xl p-8 hover:border-red-500/30 transition-all">
              <div className="flex items-center gap-4 mb-4">
                <Mail className="w-8 h-8 text-red-400" />
                <div>
                  <div className="font-semibold text-lg">Email Your Representative</div>
                  <div className="text-white/50 text-sm">Takes 30 seconds</div>
                </div>
              </div>
              <a
                href={`mailto:representative@house.gov?subject=Pass%20the%20Newborn%20and%20Foster%20Child%20Accountability%20Act&body=${encodeURIComponent(petitionTextForEmail)}`}
                className="block w-full bg-white/10 hover:bg-white/20 border border-white/20 py-4 rounded-2xl text-center font-medium transition-colors"
              >
                OPEN EMAIL TO REPRESENTATIVE →
              </a>
            </div>
          </div>

          <p className="text-center text-xs text-white/30 mt-6 font-mono">
            Tip: Replace the generic emails with your actual representatives — use{' '}
            <a href="https://www.congress.gov/members/find-your-member" target="_blank" className="underline hover:text-red-400">congress.gov</a> or{' '}
            <a href="https://resist.bot" target="_blank" className="underline hover:text-red-400">resist.bot</a>
          </p>
        </div>
      </section>

      {/* Share */}
      <section className="py-16 bg-white/[0.02] border-t border-white/5">
        <div className="max-w-4xl mx-auto px-6 text-center">
          <h3 className="text-2xl font-bold mb-8">Share This Site</h3>

          <div className="flex flex-wrap justify-center gap-4">
            <a
              href="https://twitter.com/intent/tweet?text=Where%20are%20the%20children%3F%2069%25%20of%20missing%20foster%20care%20episodes%20go%20unreported.%20Sign%20the%20petition%3A%20https%3A%2F%2Fwherearethechildren.net"
              target="_blank"
              className="flex items-center gap-3 bg-[#1DA1F2]/10 hover:bg-[#1DA1F2]/20 border border-[#1DA1F2]/30 px-8 py-4 rounded-2xl transition-all"
            >
              <Twitter className="w-5 h-5" />
              Share on X
            </a>

            <a
              href="https://www.facebook.com/sharer/sharer.php?u=https://wherearethechildren.net"
              target="_blank"
              className="flex items-center gap-3 bg-[#1877F2]/10 hover:bg-[#1877F2]/20 border border-[#1877F2]/30 px-8 py-4 rounded-2xl transition-all"
            >
              <Facebook className="w-5 h-5" />
              Share on Facebook
            </a>

            <button
              onClick={() => navigator.clipboard.writeText('https://wherearethechildren.net')}
              className="flex items-center gap-3 bg-white/10 hover:bg-white/20 border border-white/20 px-8 py-4 rounded-2xl transition-all"
            >
              <Share2 className="w-5 h-5" />
              Copy Link
            </button>
          </div>
        </div>
      </section>

      {/* Closing */}
      <section className="py-24 text-center border-t border-white/5">
        <p className="text-3xl font-light text-white/80 max-w-2xl mx-auto leading-relaxed">
          The children cannot speak for themselves.<br />
          <span className="text-red-400">We must.</span>
        </p>
      </section>
    </div>
  );
}


===== app/api/signatures/route.ts =====
// app/api/signatures/route.ts
import { Redis } from '@upstash/redis';
import { NextResponse } from 'next/server';

const redis = new Redis({
  url: process.env.UPSTASH_REDIS_REST_URL!,
  token: process.env.UPSTASH_REDIS_REST_TOKEN!,
});

const COUNT_KEY = 'petition:signatures';
const EMAILS_KEY = 'petition:emails'; // Redis Set of hashed emails

// GET — return current count
export async function GET() {
  try {
    const count = (await redis.get<number>(COUNT_KEY)) ?? 0;
    return NextResponse.json({ count });
  } catch {
    return NextResponse.json({ count: 0 });
  }
}

// POST — check for duplicate, increment if new
export async function POST(request: Request) {
  try {
    const body = await request.json();
    const emailHash = body.emailHash;

    if (!emailHash) {
      return NextResponse.json({ error: 'Missing emailHash' }, { status: 400 });
    }

    // Check if this email hash already exists
    const alreadySigned = await redis.sismember(EMAILS_KEY, emailHash);

    if (alreadySigned) {
      const count = (await redis.get<number>(COUNT_KEY)) ?? 0;
      return NextResponse.json({ count, duplicate: true });
    }

    // New signer — add hash to set and increment count
    await redis.sadd(EMAILS_KEY, emailHash);
    const count = await redis.incr(COUNT_KEY);

    return NextResponse.json({ count, duplicate: false });
  } catch {
    return NextResponse.json({ error: 'Failed to process' }, { status: 500 });
  }
}


===== app/blackbox/page.tsx =====
// app/blackbox/page.tsx
'use client';

import { motion } from 'framer-motion';
import { Lock, FileLock, Shield, Users, Baby, ExternalLink } from 'lucide-react';
import Navbar from '@/components/Navbar';
import JourneyNav from '@/components/JourneyNav';

const lockedItems = [
  {
    icon: Baby,
    title: "Individual Child Outcomes",
    description: "AFCARS only publishes aggregate numbers. You cannot follow what happened to any specific child after the state removed them — reunification, adoption, aging out, or death.",
    lockedFor: "Always",
    impact: "We know how many enter. We cannot verify how many exit safely.",
    citation: "AFCARS data structure",
    href: "https://www.acf.hhs.gov/cb/data-research/afcars"
  },
  {
    icon: Users,
    title: "Foster Parent Violation Records",
    description: "No national public database of licensed foster homes, complaints, investigations, or license revocations exists anywhere in the U.S.",
    lockedFor: "Always",
    impact: "Newborns are placed with strangers with no public accountability.",
    citation: "No federal registry exists"
  },
  {
    icon: Shield,
    title: "Real-Time Missing Episodes",
    description: "Many states fail to report missing foster children to NCMEC within 24 hours — even though federal law (Preventing Sex Trafficking and Strengthening Families Act of 2014) requires it.",
    lockedFor: "Ongoing non-compliance",
    impact: "When children vanish from care, the public is kept in the dark.",
    citation: "HHS OIG Audit, 2023",
    href: "https://oig.hhs.gov/reports/2023/missing-children-from-foster-care/"
  },
  {
    icon: FileLock,
    title: "Recent Birth Certificates",
    description: "No public national database of newborns exists. States seal recent birth records for 75–125 years, varying by state.",
    lockedFor: "75–125 years",
    impact: "Tracking a child removed at birth starts with a sealed record.",
    citation: "State vital records laws (varies by state)"
  }
];

export default function BlackBoxPage() {
  return (
    <div className="min-h-screen bg-[#0A1428] text-white">
      <Navbar />

      {/* Hero */}
      <section className="pt-28 pb-16">
        <div className="max-w-6xl mx-auto px-6">
          <div className="grid md:grid-cols-2 gap-16 items-center">
            {/* Visual */}
            <motion.div
              initial={{ opacity: 0, scale: 0.9 }}
              animate={{ opacity: 1, scale: 1 }}
              transition={{ duration: 1 }}
              className="relative flex justify-center"
            >
              <div className="relative">
                <div className="w-72 h-88 bg-gradient-to-br from-zinc-800 to-black rounded-3xl border-8 border-red-500/50 shadow-2xl relative overflow-hidden">
                  <div className="absolute inset-4 border border-white/10 rounded-2xl" />
                  <div className="absolute inset-8 border border-white/10 rounded-xl" />
                  <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-red-600 rounded-2xl flex items-center justify-center shadow-xl">
                    <Lock className="w-14 h-14 text-white" strokeWidth={2} />
                  </div>
                  <div className="absolute -top-6 -right-12 rotate-45 bg-red-600 text-white text-xs font-bold tracking-widest px-20 py-1 text-center shadow">
                    BLACK BOX
                  </div>
                </div>
                <div className="absolute -top-6 -left-8 bg-red-500/90 text-white text-xs font-mono px-4 py-1.5 rounded-full shadow">
                  LOCKED
                </div>
                <div className="absolute -bottom-4 right-8 bg-black/90 text-white/70 text-xs px-5 py-2 rounded-2xl border border-white/10">
                  No public access
                </div>
              </div>
            </motion.div>

            {/* Text */}
            <motion.div initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }} transition={{ delay: 0.2 }}>
              <div className="uppercase text-red-400 text-sm font-mono tracking-[4px] mb-4">THE REAL SCANDAL</div>
              <h1 className="text-6xl md:text-7xl font-bold tracking-tighter leading-none mb-6">
                The <span className="text-red-400">Black Box</span>
              </h1>
              <p className="text-2xl text-white/80 leading-tight mb-4">
                We are allowed to know when a child is taken.
                <span className="text-white"> We are forbidden from knowing what happens next.</span>
              </p>
              <p className="text-lg text-white/50">
                This is not a glitch. This is deliberate design.
              </p>
            </motion.div>
          </div>
        </div>
      </section>

      {/* Locked Items */}
      <section className="py-20 bg-[#0A1428]/80 border-t border-b border-white/5">
        <div className="max-w-6xl mx-auto px-6">
          <div className="text-center mb-14">
            <h2 className="text-4xl font-bold tracking-tighter mb-3">What the Public Cannot See</h2>
            <p className="text-lg text-white/60">These are policy choices, not technical limitations.</p>
          </div>

          <div className="grid md:grid-cols-2 gap-6">
            {lockedItems.map((item, index) => {
              const Icon = item.icon;
              return (
                <motion.div
                  key={item.title}
                  initial={{ opacity: 0, y: 40 }}
                  whileInView={{ opacity: 1, y: 0 }}
                  viewport={{ once: true }}
                  transition={{ delay: index * 0.1 }}
                  className="group bg-white/[0.03] border border-white/10 hover:border-red-500/30 rounded-2xl p-8 transition-all"
                >
                  <div className="flex items-center gap-4 mb-4">
                    <div className="w-12 h-12 rounded-xl bg-red-500/10 flex items-center justify-center group-hover:bg-red-500/20 transition-colors">
                      <Icon className="w-7 h-7 text-red-400" strokeWidth={1.8} />
                    </div>
                    <div className="flex items-center gap-2">
                      <Lock className="w-4 h-4 text-red-400/60" />
                      <h3 className="text-xl font-semibold">{item.title}</h3>
                    </div>
                  </div>

                  <p className="text-white/70 leading-relaxed text-[15px] mb-6">{item.description}</p>

                  <div className="flex items-center justify-between gap-4 pt-4 border-t border-white/10">
                    <div>
                      <div className="text-[10px] text-white/30 font-mono uppercase tracking-widest">Locked for</div>
                      <div className="text-red-400 font-semibold">{item.lockedFor}</div>
                    </div>
                    <div className="text-right flex-1">
                      <div className="text-[10px] text-white/30 font-mono uppercase tracking-widest">Impact</div>
                      <div className="text-white/60 text-sm">{item.impact}</div>
                    </div>
                  </div>

                  <div className="mt-4">
                    {item.href ? (
                      <a href={item.href} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-xs font-mono text-white/30 hover:text-red-400 transition-colors">
                        <ExternalLink className="w-3 h-3" />
                        {item.citation}
                      </a>
                    ) : (
                      <span className="text-xs font-mono text-white/30">{item.citation}</span>
                    )}
                  </div>
                </motion.div>
              );
            })}
          </div>
        </div>
      </section>

      {/* Quote */}
      <section className="py-24 bg-gradient-to-br from-red-950/30 to-transparent">
        <div className="max-w-4xl mx-auto px-6 text-center">
          <div className="text-3xl mb-6 text-white/80">"Privacy should protect children —</div>
          <div className="text-3xl text-red-400 font-light">not shield a failing system."</div>
          <div className="mt-10 text-white/50 max-w-lg mx-auto">
            Every time someone says "we can't release this data because of privacy,"
            remember: the same system uses that privacy to hide the children it loses.
          </div>
        </div>
      </section>

      {/* Journey Navigation */}
      <JourneyNav currentPath="/blackbox" />
    </div>
  );
}


===== app/crisis/page.tsx =====
// app/crisis/page.tsx
'use client';

import { motion } from 'framer-motion';
import { AlertTriangle, Users, Search, ExternalLink } from 'lucide-react';
import Navbar from '@/components/Navbar';
import JourneyNav from '@/components/JourneyNav';
import OIGFunnel from '@/components/OIGFunnel';

export default function CrisisPage() {
  return (
    <div className="min-h-screen bg-[#0A1428] text-white">
      <Navbar />

      {/* Hero */}
      <section className="pt-28 pb-16">
        <div className="max-w-5xl mx-auto px-6 text-center">
          <motion.div
            initial={{ opacity: 0, y: 30 }}
            animate={{ opacity: 1, y: 0 }}
          >
            <div className="inline-flex items-center gap-3 bg-red-500/10 text-red-400 px-6 py-3 rounded-3xl text-sm font-mono tracking-[4px] uppercase mb-6 border border-red-500/30">
              <AlertTriangle className="w-5 h-5" />
              THIS IS NOT SPECULATION
            </div>

            <h1 className="text-6xl md:text-8xl font-bold tracking-tighter leading-none mb-6">
              The <span className="text-red-400">Crisis</span>
            </h1>

            <p className="text-2xl text-white/80 max-w-3xl mx-auto leading-relaxed">
              Thousands of children go missing from state care every year.
              The government's own auditors have confirmed it.
            </p>
          </motion.div>
        </div>
      </section>

      {/* OIG Funnel */}
      <section className="py-16 bg-gradient-to-b from-[#0A1428] via-red-950/20 to-[#0A1428]">
        <div className="max-w-6xl mx-auto px-6">
          <OIGFunnel />
        </div>
      </section>

      {/* Missing Numbers */}
      <section className="py-20">
        <div className="max-w-5xl mx-auto px-6">
          <div className="grid md:grid-cols-3 gap-8">
            <motion.div
              initial={{ opacity: 0, y: 40 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              className="bg-white/5 border border-white/10 rounded-3xl p-10 text-center hover:border-red-500/30 transition-all"
            >
              <Users className="w-14 h-14 text-red-400 mx-auto mb-4" />
              <div className="text-5xl font-mono font-bold mb-3">23,160</div>
              <div className="text-lg text-white/80 mb-2">reported missing from care</div>
              <Cite source="NCMEC 2024 Annual Report" href="https://www.missingkids.org/ourwork/impact" />
            </motion.div>

            <motion.div
              initial={{ opacity: 0, y: 40 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: 0.1 }}
              className="bg-white/5 border border-white/10 rounded-3xl p-10 text-center hover:border-red-500/30 transition-all"
            >
              <AlertTriangle className="w-14 h-14 text-red-400 mx-auto mb-4" />
              <div className="text-5xl font-mono font-bold text-red-400 mb-3">1 in 7</div>
              <div className="text-lg text-white/80 mb-2">assessed as likely trafficking victims</div>
              <Cite source="NCMEC estimate for missing-from-care" href="https://www.missingkids.org/ourwork/impact" />
            </motion.div>

            <motion.div
              initial={{ opacity: 0, y: 40 }}
              whileInView={{ opacity: 1, y: 0 }}
              viewport={{ once: true }}
              transition={{ delay: 0.2 }}
              className="bg-white/5 border border-white/10 rounded-3xl p-10 text-center hover:border-red-500/30 transition-all"
            >
              <Search className="w-14 h-14 text-red-400 mx-auto mb-4" />
              <div className="text-5xl font-mono font-bold mb-3">???</div>
              <div className="text-lg text-white/80 mb-2">actual number in 2025–2026</div>
              <span className="text-xs font-mono text-white/40">No new national audit exists since 2023 OIG report</span>
            </motion.div>
          </div>
        </div>
      </section>

      {/* Trafficking Callout */}
      <section className="py-16 bg-red-950/30 border-y border-red-500/20">
        <div className="max-w-4xl mx-auto px-6 text-center">
          <h2 className="text-4xl font-bold mb-6">These Are Not Just Runaways</h2>
          <p className="text-xl text-white/90 leading-relaxed">
            NCMEC reports that 1 in 7 children reported missing from care
            is assessed as a <span className="text-red-400 font-bold">likely sex trafficking victim</span>.
          </p>
          <p className="text-white/60 mt-6">
            And thanks to the broken reporting exposed by the OIG audit —
            <span className="text-red-400"> these are only the ones we know about.</span>
          </p>
          <div className="mt-6">
            <Cite source="NCMEC 2024 data; HHS OIG Audit, 2023" href="https://www.missingkids.org/ourwork/impact" />
          </div>
        </div>
      </section>

      {/* Journey Navigation */}
      <JourneyNav currentPath="/crisis" />
    </div>
  );
}

function Cite({ source, href }: { source: string; href?: string }) {
  if (href) {
    return (
      <a href={href} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-xs font-mono text-white/40 hover:text-red-400 transition-colors">
        <ExternalLink className="w-3 h-3" />
        {source}
      </a>
    );
  }
  return <span className="text-xs font-mono text-white/40">{source}</span>;
}


===== app/globals.css =====
@import "tailwindcss";

@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    font-family: var(--font-inter), system-ui, -apple-system, sans-serif;
  }
}

/* Dark scrollbar */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: #0A1428;
}
::-webkit-scrollbar-thumb {
  background: #1F2A44;
  border-radius: 20px;
}


===== app/layout.tsx =====
// app/layout.tsx
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';
import './globals.css';

const inter = Inter({
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-inter',
});

export const metadata: Metadata = {
  title: 'Where Are The Children? | Official Data on Missing Foster Kids',
  description: 'The government removes thousands of newborns every year. Then it loses track of many of them. Here is the official data they publish — and what they deliberately hide.',
  keywords: 'foster care, missing children, CPS, child protective services, OIG audit, newborn removal, foster accountability, petition',
  openGraph: {
    title: 'Where Are The Children?',
    description: '69% of missing-from-care episodes go unreported. Sign the petition for the Newborn & Foster Child Accountability Act.',
    url: 'https://wherearethechildren.net',
    siteName: 'Where Are The Children?',
    images: [
      {
        url: 'https://wherearethechildren.net/og-image.jpg',
        width: 1200,
        height: 630,
        alt: 'Where Are The Children? — Demand Public Tracking',
      },
    ],
    locale: 'en_US',
    type: 'website',
  },
  twitter: {
    card: 'summary_large_image',
    title: 'Where Are The Children?',
    description: '69% of missing foster care episodes go unreported. The black box must be opened.',
    images: ['https://wherearethechildren.net/og-image.jpg']
  },
  robots: 'index, follow',
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" className="dark">
      <body className={`${inter.variable} bg-[#0A1428] text-white antialiased`}>
        {children}
      </body>
    </html>
  );
}


===== app/page.tsx =====
// app/page.tsx
'use client';

import { useEffect, useState, useRef } from 'react';
import { motion, useInView } from 'framer-motion';
import { Baby, Users, AlertTriangle, Search, ArrowRight, Lock, FileWarning, Shield, Scale, ExternalLink, ChevronRight } from 'lucide-react';
import PetitionForm from '@/components/PetitionForm';
import Navbar from '@/components/Navbar';

export default function Home() {
  const Counter = ({ end, duration = 2000, suffix = '' }: { end: number; duration?: number; suffix?: string }) => {
    const [count, setCount] = useState(0);
    const ref = useRef(null);
    const inView = useInView(ref, { once: true });

    useEffect(() => {
      if (!inView) return;
      let startTime: number;
      let animationFrame: number;
      const animate = (timestamp: number) => {
        if (!startTime) startTime = timestamp;
        const progress = Math.min((timestamp - startTime) / duration, 1);
        setCount(Math.floor(progress * end));
        if (progress < 1) {
          animationFrame = requestAnimationFrame(animate);
        } else {
          setCount(end);
        }
      };
      animationFrame = requestAnimationFrame(animate);
      return () => cancelAnimationFrame(animationFrame);
    }, [inView, end, duration]);

    return <span ref={ref}>{count.toLocaleString()}{suffix}</span>;
  };

  return (
    <div className="min-h-screen bg-[#0A1428] text-white overflow-x-hidden">
      {/* Navbar */}
      <Navbar />

      {/* ═══════════════════════════════════════════
          HERO + INLINE PETITION (Zero scroll to sign)
          ═══════════════════════════════════════════ */}
      <section id="sign" className="relative min-h-[100dvh] flex items-center pt-20">
        {/* Background */}
        <div className="absolute inset-0 bg-gradient-to-br from-[#0A1428] via-[#12203d] to-[#0A1428]" />
        <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_rgba(220,38,38,0.08)_0%,_transparent_60%)]" />

        <div className="relative w-full max-w-7xl mx-auto px-6 py-12">
          <div className="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
            {/* Left: Message */}
            <motion.div
              initial={{ opacity: 0, y: 30 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.8 }}
            >
              <div className="inline-flex items-center gap-3 bg-white/10 backdrop-blur-xl px-5 py-2 rounded-3xl mb-6 border border-white/10">
                <div className="w-2.5 h-2.5 bg-red-500 rounded-full animate-pulse" />
                <span className="uppercase text-[11px] tracking-[3px] font-mono text-red-400">Official Government Data</span>
              </div>

              <h1 className="text-5xl md:text-7xl font-bold leading-[1.05] tracking-tighter mb-5">
                Where Are<br />
                <span className="bg-gradient-to-r from-red-400 to-orange-400 bg-clip-text text-transparent">The Children?</span>
              </h1>

              <p className="text-lg md:text-xl text-white/80 font-light leading-relaxed mb-6">
                Every year, the U.S. government removes <span className="font-semibold text-white">~22,000 newborns and infants</span> from their families and places them in foster care.
                <Citation source="AFCARS FY2024" />
              </p>
              <p className="text-lg md:text-xl text-white/80 font-light leading-relaxed mb-6">
                Then the public record goes dark. The government's own auditors found <span className="text-red-400 font-semibold">69% of missing-from-care episodes were never properly reported</span>.
                <Citation source="HHS OIG Audit, 2023" href="https://oig.hhs.gov/reports/2023/missing-children-from-foster-care/" />
              </p>
              <p className="text-lg text-white/60">
                We are demanding anonymized, public dashboards so that every child can be accounted for.
              </p>

              <div className="mt-8 flex flex-wrap gap-6 text-xs uppercase tracking-widest text-white/30">
                <span>HHS</span>
                <span>AFCARS</span>
                <span>NCMEC</span>
                <span>OIG</span>
                <span>CDC</span>
              </div>
            </motion.div>

            {/* Right: Petition Form */}
            <motion.div
              initial={{ opacity: 0, y: 30 }}
              animate={{ opacity: 1, y: 0 }}
              transition={{ duration: 0.8, delay: 0.2 }}
            >
              <div className="bg-white/[0.03] border border-white/10 rounded-3xl p-6 md:p-8 backdrop-blur-sm">
                <h2 className="text-2xl font-bold mb-1">Sign the Petition</h2>
                <p className="text-white/50 text-sm mb-5">
                  Demand the <span className="text-red-400 font-medium">Newborn &amp; Foster Child Accountability Act</span>
                </p>
                <PetitionForm compact />
              </div>
            </motion.div>
          </div>
        </div>
      </section>

      {/* ═══════════════════════════════════════════
          SECTION 1: THE PROBLEM — In Plain Numbers
          ═══════════════════════════════════════════ */}
      <section id="the-problem" className="py-24 bg-[#0A1428] border-t border-white/5">
        <div className="max-w-6xl mx-auto px-6">
          <SectionHeader
            label="THE PROBLEM"
            title="What the numbers actually say"
            subtitle="Every statistic below comes from official federal sources. Click any citation to verify."
          />

          {/* The 4 key stats */}
          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mt-16">
            <StatCard
              icon={<Users className="w-9 h-9" />}
              value={<Counter end={328947} />}
              label="children currently in foster care"
              citation="AFCARS FY2024"
              href="https://www.acf.hhs.gov/cb/data-research/afcars"
            />
            <StatCard
              icon={<Baby className="w-9 h-9" />}
              value={<Counter end={22097} />}
              label="are infants under 1 year old"
              citation="AFCARS FY2024 — 7% of total"
              href="https://www.acf.hhs.gov/cb/data-research/afcars"
            />
            <StatCard
              icon={<AlertTriangle className="w-9 h-9" />}
              value={<Counter end={23160} />}
              label="reported missing from care in 2024"
              citation="NCMEC 2024 Report"
              href="https://www.missingkids.org/ourwork/impact"
            />
            <StatCard
              icon={<Lock className="w-9 h-9" />}
              value="69%"
              label="of missing episodes never properly reported"
              citation="HHS OIG Audit, 2023 — 74,353 episodes"
              href="https://oig.hhs.gov/reports/2023/missing-children-from-foster-care/"
              highlight
            />
          </div>
        </div>
      </section>

      {/* ═══════════════════════════════════════════
          SECTION 2: HOW IT WORKS — The Pipeline
          ═══════════════════════════════════════════ */}
      <section className="py-24 bg-gradient-to-b from-[#0A1428] to-[#0c1830]">
        <div className="max-w-5xl mx-auto px-6">
          <SectionHeader
            label="HOW IT WORKS"
            title="From birth to the black box"
            subtitle="Follow the path a child takes when the state intervenes — and see exactly where public visibility ends."
          />

          <div className="mt-16 space-y-0">
            {[
              {
                num: "3.6M",
                title: "Babies born each year in the U.S.",
                desc: "Births are recorded through vital statistics — a public record managed by the CDC.",
                citation: "CDC National Vital Statistics System, 2024",
                href: "https://www.cdc.gov/nchs/nvss/index.htm",
                color: "border-blue-500/30",
                dotColor: "bg-blue-400"
              },
              {
                num: "~4M",
                title: "CPS referrals and investigations opened",
                desc: "Child Protective Services receives over 4 million reports of suspected maltreatment annually. Most are screened out or unsubstantiated.",
                citation: "HHS Child Maltreatment Report, 2024",
                href: "https://www.acf.hhs.gov/cb/data-research/child-maltreatment",
                color: "border-amber-500/30",
                dotColor: "bg-amber-400"
              },
              {
                num: "~200K",
                title: "Children physically removed from their homes",
                desc: "Roughly 200,000 children per year are removed from their families and placed into foster care, kinship care, or group homes.",
                citation: "AFCARS Report #30, 2025",
                href: "https://www.acf.hhs.gov/cb/data-research/afcars",
                color: "border-orange-500/30",
                dotColor: "bg-orange-400"
              },
              {
                num: "22K",
                title: "Newborns & infants placed in foster care",
                desc: "About 22,000 children under 1 year old are in foster care at any point. Most are removed within days of birth — often placed in emergency or stranger foster homes with accelerated approvals.",
                citation: "AFCARS FY2024 — 7% of all children in care",
                href: "https://www.acf.hhs.gov/cb/data-research/afcars",
                color: "border-red-500/30",
                dotColor: "bg-red-400"
              },
              {
                num: "???",
                title: "The public record ends here.",
                desc: "No public database exists to track individual outcomes. AFCARS publishes aggregate numbers only. You cannot follow what happened to any child after removal — reunification, adoption, aging out, or worse.",
                citation: "This is by design — see 'What They Hide' below",
                color: "border-red-500/50",
                dotColor: "bg-red-600",
                isBlackBox: true
              }
            ].map((step, i) => (
              <motion.div
                key={i}
                initial={{ opacity: 0, x: -20 }}
                whileInView={{ opacity: 1, x: 0 }}
                viewport={{ once: true }}
                transition={{ delay: i * 0.08 }}
                className="relative pl-12 pb-12 last:pb-0"
              >
                {/* Vertical line */}
                {i < 4 && (
                  <div className="absolute left-[18px] top-8 bottom-0 w-px bg-gradient-to-b from-white/20 to-white/5" />
                )}
                {/* Dot */}
                <div className={`absolute left-2.5 top-2 w-4 h-4 rounded-full ${step.dotColor} border-4 border-[#0A1428] z-10`} />

                <div className={`bg-white/[0.03] border ${step.color} rounded-2xl p-6 md:p-8 ${step.isBlackBox ? 'bg-red-950/10' : ''}`}>
                  <div className="flex flex-col md:flex-row md:items-start gap-4">
                    <div className={`text-4xl md:text-5xl font-mono font-bold tabular-nums flex-shrink-0 ${step.isBlackBox ? 'text-red-400' : 'text-white'}`}>
                      {step.num}
                    </div>
                    <div className="flex-1">
                      <h3 className={`text-xl font-semibold mb-2 ${step.isBlackBox ? 'text-red-400' : ''}`}>{step.title}</h3>
                      <p className="text-white/70 leading-relaxed text-[15px]">{step.desc}</p>
                      <div className="mt-3">
                        {step.href ? (
                          <a href={step.href} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-xs font-mono text-white/40 hover:text-red-400 transition-colors">
                            <ExternalLink className="w-3 h-3" />
                            {step.citation}
                          </a>
                        ) : (
                          <span className="text-xs font-mono text-red-400/60">{step.citation}</span>
                        )}
                      </div>
                    </div>
                  </div>
                </div>
              </motion.div>
            ))}
          </div>
        </div>
      </section>

      {/* ═══════════════════════════════════════════
          SECTION 3: WHAT THEY HIDE — The Black Box
          ═══════════════════════════════════════════ */}
      <section id="what-they-hide" className="py-24 bg-[#0A1428] border-t border-white/5">
        <div className="max-w-6xl mx-auto px-6">
          <SectionHeader
            label="WHAT THEY HIDE"
            title="The information you are forbidden from seeing"
            subtitle="These are not technical limitations. These are policy choices that keep the public in the dark."
          />

          <div className="grid md:grid-cols-2 gap-6 mt-16">
            <InfoCard
              icon={<Baby className="w-8 h-8 text-red-400" />}
              title="Individual child outcomes"
              body="AFCARS only publishes aggregate numbers. You cannot follow what happened to any specific child after the state removed them from their family."
              locked="Always"
              consequence="We know how many enter. We cannot verify how many exit safely."
              citation="AFCARS data structure"
              href="https://www.acf.hhs.gov/cb/data-research/afcars"
            />
            <InfoCard
              icon={<Shield className="w-8 h-8 text-red-400" />}
              title="Foster parent violation records"
              body="No national public database of licensed foster homes, complaints, investigations, or license revocations exists."
              locked="Always"
              consequence="Newborns are handed to strangers with no public oversight."
              citation="No federal registry exists"
            />
            <InfoCard
              icon={<FileWarning className="w-8 h-8 text-red-400" />}
              title="Real-time missing episodes"
              body="Many states fail to report missing foster children to NCMEC within 24 hours — even though federal law requires it."
              locked="Ongoing non-compliance"
              consequence="When children vanish from care, the public is kept in the dark."
              citation="HHS OIG Audit, 2023"
              href="https://oig.hhs.gov/reports/2023/missing-children-from-foster-care/"
            />
            <InfoCard
              icon={<Scale className="w-8 h-8 text-red-400" />}
              title="Maltreatment while in care"
              body="The national average is 0.9% substantiated maltreatment in care per year. But state-level audits consistently find 40–60% of perpetrators in substantiated cases are the foster parents themselves."
              locked="Deliberately underreported"
              consequence="The system meant to protect children sometimes becomes the source of harm."
              citation="NCANDS / Casey Family Programs"
              href="https://www.acf.hhs.gov/cb/data-research/child-maltreatment"
            />
          </div>

          <div className="mt-16 text-center">
            <div className="inline-block bg-red-950/30 border border-red-500/20 rounded-2xl px-8 py-5">
              <p className="text-lg text-white/80 italic">
                "Privacy should protect children — not shield a failing system."
              </p>
            </div>
          </div>
        </div>
      </section>

      {/* ═══════════════════════════════════════════
          SECTION 4: WHAT WE DEMAND
          ═══════════════════════════════════════════ */}
      <section id="what-we-demand" className="py-24 bg-gradient-to-b from-[#0c1830] to-[#0A1428] border-t border-white/5">
        <div className="max-w-5xl mx-auto px-6">
          <SectionHeader
            label="WHAT WE DEMAND"
            title="The Newborn & Foster Child Accountability Act"
            subtitle="Four concrete, achievable reforms that would make the system visible for the first time."
          />

          <div className="mt-16 space-y-6">
            <DemandCard
              number="01"
              title="Public, anonymized dashboards"
              desc="Every state must publish annual dashboards tracking children from removal to outcome — reunification, adoption, guardianship, or aging out. Anonymized, but accountable."
              why="Right now, the public cannot verify whether children exiting the system are safe. Aggregate numbers hide individual failures."
            />
            <DemandCard
              number="02"
              title="Real-time missing-from-care reporting"
              desc="Every missing-from-care episode must be reported to NCMEC automatically and immediately — not weeks or months later, not at the state's discretion."
              why="The OIG found 69% of 74,353 missing episodes went unreported. NCMEC estimates 1 in 7 missing foster children is a likely trafficking victim."
            />
            <DemandCard
              number="03"
              title="Standardized state-by-state performance metrics"
              desc="A national dashboard comparing every state on the same measures: removal rates, placement stability, time to permanency, missing episodes, and maltreatment in care."
              why="Some states report vastly different rates than others. Without standardized data, there is no way to identify which states are failing and which practices work."
            />
            <DemandCard
              number="04"
              title="Federal funding tied to compliance"
              desc="States that fail to report accurately or refuse to publish dashboards lose a percentage of their Title IV-E federal foster care funding."
              why="Voluntary compliance has not worked. The OIG audit proved this. Financial incentives are the only mechanism with a track record of driving state behavior."
            />
          </div>
        </div>
      </section>

      {/* ═══════════════════════════════════════════
          SECTION 5: WHY THIS MATTERS TO YOU
          ═══════════════════════════════════════════ */}
      <section className="py-24 bg-[#0A1428] border-t border-white/5">
        <div className="max-w-5xl mx-auto px-6">
          <SectionHeader
            label="WHY THIS MATTERS"
            title="This isn't just about foster care"
            subtitle="Substance abuse, trafficking, racial disparities, and system failures affect every community."
          />

          <div className="mt-16 grid md:grid-cols-3 gap-6">
            <ContextCard
              title="The opioid crisis drives removals"
              body="Substance abuse is the leading reason children are removed from homes. As overdose deaths continue rising, so do infant removals — but there's no public way to track the connection in real time."
              citation="AFCARS removal reasons; CDC WONDER overdose data"
            />
            <ContextCard
              title="Racial disparities are severe"
              body="Black and American Indian/Alaska Native children are removed at dramatically higher rates than white children. Without public data, these disparities remain invisible and unaddressed."
              citation="AFCARS demographic data; GAO reports on racial disproportionality"
            />
            <ContextCard
              title="Trafficking targets foster youth"
              body="NCMEC reports that 1 in 7 children reported missing from care is assessed as a likely sex trafficking victim. These children are uniquely vulnerable — and the system designed to protect them is losing them."
              citation="NCMEC 2024 annual data"
              href="https://www.missingkids.org/ourwork/impact"
            />
          </div>
        </div>
      </section>

      {/* ═══════════════════════════════════════════
          SECTION 6: CONTINUE THE JOURNEY
          ═══════════════════════════════════════════ */}
      <section className="py-24 bg-[#0A1428] border-t border-white/5">
        <div className="max-w-5xl mx-auto px-6">
          <motion.div
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="text-center mb-14"
          >
            <div className="uppercase text-white/40 text-xs tracking-[4px] font-mono mb-4">GO DEEPER</div>
            <h2 className="text-4xl md:text-5xl font-bold tracking-tighter mb-4">Follow the Full Story</h2>
            <p className="text-lg text-white/60">Each page builds on the last. Start anywhere — but the truth compounds.</p>
          </motion.div>

          <div className="grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
            {[
              {
                href: '/crisis',
                step: '01',
                title: 'The Crisis',
                desc: 'The OIG audit, the 69% gap, and the trafficking link.',
                color: 'from-red-500/20 to-red-600/10',
                borderColor: 'hover:border-red-500/40'
              },
              {
                href: '/pipeline',
                step: '02',
                title: 'Newborn Pipeline',
                desc: 'From birth to removal — and where the public record goes dark.',
                color: 'from-orange-500/20 to-orange-600/10',
                borderColor: 'hover:border-orange-500/40'
              },
              {
                href: '/blackbox',
                step: '03',
                title: 'The Black Box',
                desc: 'What the system legally forbids you from seeing.',
                color: 'from-purple-500/20 to-purple-600/10',
                borderColor: 'hover:border-purple-500/40'
              },
              {
                href: '/risks',
                step: '04',
                title: 'Risks in Care',
                desc: 'Maltreatment rates, foster home turnover, and newborn vulnerability.',
                color: 'from-amber-500/20 to-amber-600/10',
                borderColor: 'hover:border-amber-500/40'
              }
            ].map((page, i) => (
              <motion.a
                key={page.href}
                href={page.href}
                initial={{ opacity: 0, y: 20 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: i * 0.08 }}
                className={`group block bg-gradient-to-b ${page.color} border border-white/10 ${page.borderColor} rounded-2xl p-6 transition-all hover:-translate-y-1`}
              >
                <div className="text-3xl font-mono font-bold text-white/20 mb-3">{page.step}</div>
                <h3 className="text-lg font-bold mb-2 group-hover:text-red-400 transition-colors">{page.title}</h3>
                <p className="text-white/50 text-sm leading-relaxed mb-4">{page.desc}</p>
                <div className="flex items-center gap-1.5 text-sm font-medium text-white/40 group-hover:text-red-400 transition-colors">
                  Read more
                  <ArrowRight className="w-4 h-4 group-hover:translate-x-1 transition-transform" />
                </div>
              </motion.a>
            ))}
          </div>
        </div>
      </section>

      {/* ═══════════════════════════════════════════
          FINAL CTA: SIGN THE PETITION (again)
          ═══════════════════════════════════════════ */}
      <section className="py-28 bg-gradient-to-b from-[#0A1428] to-black/60 border-t border-white/5">
        <div className="max-w-3xl mx-auto px-6 text-center">
          <div className="text-red-400 text-sm tracking-[3px] uppercase font-mono mb-6">ADD YOUR NAME</div>
          <h2 className="text-5xl font-bold leading-tight tracking-tighter mb-4">
            The children cannot speak<br />
            <span className="text-red-400">for themselves.</span>
          </h2>
          <p className="text-lg text-white/60 mb-10">
            Every signature brings us closer to forcing the system open.
          </p>

          <div className="bg-white/[0.03] border border-white/10 rounded-3xl p-6 md:p-10 text-left">
            <PetitionForm />
          </div>

          <p className="text-white/40 mt-10 text-xs max-w-md mx-auto">
            This site uses only official federal data. No conspiracy. Just receipts.<br />
            <a href="/sources" className="underline hover:text-red-400 transition-colors">See all sources →</a>
          </p>
        </div>
      </section>

      {/* Footer */}
      <footer className="bg-black/60 py-10 border-t border-white/5">
        <div className="max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between gap-6 text-white/40 text-xs">
          <div>wherearethechildren.net · Built to force accountability · All data is public government records</div>
          <div className="flex items-center gap-6">
            <a href="/sources" className="hover:text-white transition-colors">Sources & Methodology</a>
            <a href="/action" className="hover:text-white transition-colors">Full Petition Page</a>
          </div>
        </div>
      </footer>
    </div>
  );
}


/* ═══════════════════════════════════════════
   REUSABLE COMPONENTS
   ═══════════════════════════════════════════ */

function SectionHeader({ label, title, subtitle }: { label: string; title: string; subtitle: string }) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      whileInView={{ opacity: 1, y: 0 }}
      viewport={{ once: true }}
      className="text-center max-w-3xl mx-auto"
    >
      <div className="uppercase text-red-400 text-xs tracking-[4px] font-mono mb-4">{label}</div>
      <h2 className="text-4xl md:text-5xl font-bold tracking-tighter mb-4">{title}</h2>
      <p className="text-lg text-white/60">{subtitle}</p>
    </motion.div>
  );
}

function Citation({ source, href }: { source: string; href?: string }) {
  if (href) {
    return (
      <a href={href} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1 text-[11px] font-mono text-white/30 hover:text-red-400 transition-colors align-super ml-1">
        [{source}]
        <ExternalLink className="w-2.5 h-2.5" />
      </a>
    );
  }
  return <span className="text-[11px] font-mono text-white/30 align-super ml-1">[{source}]</span>;
}

function StatCard({ icon, value, label, citation, href, highlight }: {
  icon: React.ReactNode;
  value: React.ReactNode;
  label: string;
  citation: string;
  href?: string;
  highlight?: boolean;
}) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 30 }}
      whileInView={{ opacity: 1, y: 0 }}
      viewport={{ once: true }}
      className={`bg-white/5 border rounded-3xl p-8 hover:border-red-500/30 transition-all group ${highlight ? 'border-red-500/40 bg-red-950/10' : 'border-white/10'}`}
    >
      <div className="text-red-400 mb-3">{icon}</div>
      <div className={`text-4xl md:text-5xl font-mono font-bold tabular-nums mb-2 ${highlight ? 'text-red-400' : ''}`}>
        {value}
      </div>
      <div className="text-white/70 text-base mb-4">{label}</div>
      {href ? (
        <a href={href} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-[11px] font-mono text-white/40 hover:text-red-400 transition-colors">
          <ExternalLink className="w-3 h-3" />
          {citation}
        </a>
      ) : (
        <div className="text-[11px] font-mono text-white/40">{citation}</div>
      )}
    </motion.div>
  );
}

function InfoCard({ icon, title, body, locked, consequence, citation, href }: {
  icon: React.ReactNode;
  title: string;
  body: string;
  locked: string;
  consequence: string;
  citation: string;
  href?: string;
}) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 30 }}
      whileInView={{ opacity: 1, y: 0 }}
      viewport={{ once: true }}
      className="bg-white/[0.03] border border-white/10 hover:border-red-500/30 rounded-2xl p-8 transition-all"
    >
      <div className="flex items-center gap-4 mb-4">
        {icon}
        <div className="flex items-center gap-2">
          <Lock className="w-4 h-4 text-red-400/60" />
          <h3 className="text-xl font-semibold">{title}</h3>
        </div>
      </div>
      <p className="text-white/70 leading-relaxed text-[15px] mb-4">{body}</p>
      <div className="flex items-center justify-between gap-4 pt-4 border-t border-white/10">
        <div>
          <div className="text-[10px] text-white/30 font-mono uppercase tracking-widest">Status</div>
          <div className="text-red-400 text-sm font-medium">{locked}</div>
        </div>
        <div className="text-right flex-1">
          <div className="text-[10px] text-white/30 font-mono uppercase tracking-widest">Consequence</div>
          <div className="text-white/60 text-sm">{consequence}</div>
        </div>
      </div>
      <div className="mt-4">
        {href ? (
          <a href={href} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-[11px] font-mono text-white/30 hover:text-red-400 transition-colors">
            <ExternalLink className="w-3 h-3" />
            {citation}
          </a>
        ) : (
          <span className="text-[11px] font-mono text-white/30">{citation}</span>
        )}
      </div>
    </motion.div>
  );
}

function DemandCard({ number, title, desc, why }: {
  number: string;
  title: string;
  desc: string;
  why: string;
}) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      whileInView={{ opacity: 1, y: 0 }}
      viewport={{ once: true }}
      className="bg-white/[0.03] border border-white/10 hover:border-red-500/30 rounded-2xl p-8 md:p-10 transition-all"
    >
      <div className="flex items-start gap-6">
        <div className="text-5xl font-mono font-bold text-red-400/30 flex-shrink-0 leading-none">{number}</div>
        <div>
          <h3 className="text-2xl font-bold mb-3">{title}</h3>
          <p className="text-white/80 leading-relaxed mb-4">{desc}</p>
          <div className="bg-white/5 border border-white/10 rounded-xl px-5 py-3">
            <div className="text-[10px] font-mono text-white/40 uppercase tracking-widest mb-1">Why this matters</div>
            <p className="text-white/60 text-sm leading-relaxed">{why}</p>
          </div>
        </div>
      </div>
    </motion.div>
  );
}

function ContextCard({ title, body, citation, href }: {
  title: string;
  body: string;
  citation: string;
  href?: string;
}) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 20 }}
      whileInView={{ opacity: 1, y: 0 }}
      viewport={{ once: true }}
      className="bg-white/[0.03] border border-white/10 rounded-2xl p-8 hover:border-white/20 transition-all"
    >
      <h3 className="text-lg font-bold mb-3">{title}</h3>
      <p className="text-white/70 text-[15px] leading-relaxed mb-4">{body}</p>
      {href ? (
        <a href={href} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-[11px] font-mono text-white/30 hover:text-red-400 transition-colors">
          <ExternalLink className="w-3 h-3" />
          {citation}
        </a>
      ) : (
        <span className="text-[11px] font-mono text-white/30">{citation}</span>
      )}
    </motion.div>
  );
}


===== app/pipeline/page.tsx =====
// app/pipeline/page.tsx
'use client';

import { motion } from 'framer-motion';
import { Baby, FileText, Scale, Home, ArrowDown, AlertCircle, ExternalLink } from 'lucide-react';
import Navbar from '@/components/Navbar';
import JourneyNav from '@/components/JourneyNav';

const pipelineSteps = [
  {
    icon: Baby,
    number: "3.6M",
    label: "U.S. births per year",
    description: "Approximately 3.6 million children are born in the United States each year. Births are tracked through the CDC's vital statistics system — a public record.",
    citation: "CDC National Vital Statistics System, 2024",
    href: "https://www.cdc.gov/nchs/nvss/index.htm",
    color: "from-blue-400 to-cyan-400"
  },
  {
    icon: FileText,
    number: "~4M",
    label: "CPS referrals and investigations",
    description: "Child Protective Services receives over 4 million reports of suspected child maltreatment annually. The majority are screened out or found unsubstantiated.",
    citation: "HHS Child Maltreatment Report, 2024",
    href: "https://www.acf.hhs.gov/cb/data-research/child-maltreatment",
    color: "from-amber-400 to-orange-400"
  },
  {
    icon: Scale,
    number: "~200K",
    label: "Children removed from home",
    description: "Roughly 200,000 children are removed from their parents each year and placed in foster care, kinship care, or group homes.",
    citation: "AFCARS Report #30, 2025",
    href: "https://www.acf.hhs.gov/cb/data-research/afcars",
    color: "from-red-400 to-rose-500"
  },
  {
    icon: Home,
    number: "22K",
    label: "Newborns & infants placed in foster care",
    description: "About 22,000 children under age 1 are in foster care at any given time — most removed shortly after birth, often placed in emergency or stranger foster homes with accelerated approvals.",
    citation: "AFCARS FY2024 — 7% of all children in care",
    href: "https://www.acf.hhs.gov/cb/data-research/afcars",
    color: "from-purple-400 to-violet-500"
  },
  {
    icon: AlertCircle,
    number: "???",
    label: "What happens next?",
    description: "The system places them in foster homes, relative care, or group facilities. Then the public record ends. No database tracks individual outcomes. AFCARS only publishes aggregate numbers.",
    citation: "See: What They Hide",
    color: "from-red-600 to-rose-600",
    isBlackBox: true
  }
];

export default function PipelinePage() {
  return (
    <div className="min-h-screen bg-[#0A1428] text-white">
      <Navbar />

      <div className="pt-24 pb-32">
        <div className="max-w-4xl mx-auto px-6 text-center mb-16">
          <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}>
            <div className="uppercase text-red-400 text-sm tracking-[4px] font-mono mb-4">FOLLOW THE PATH</div>
            <h1 className="text-5xl md:text-7xl font-bold tracking-tighter leading-none mb-4">
              The Newborn <span className="text-red-400">Pipeline</span>
            </h1>
            <p className="text-xl text-white/70 max-w-2xl mx-auto">
              We can count them when they enter.
              We are not allowed to know what happens after.
            </p>
          </motion.div>
        </div>

        {/* Pipeline */}
        <div className="max-w-3xl mx-auto px-6 relative">
          <div className="absolute left-1/2 top-12 bottom-12 w-px bg-gradient-to-b from-transparent via-white/20 to-transparent" />

          {pipelineSteps.map((step, index) => {
            const Icon = step.icon;
            return (
              <motion.div
                key={index}
                initial={{ opacity: 0, x: index % 2 === 0 ? -60 : 60 }}
                whileInView={{ opacity: 1, x: 0 }}
                viewport={{ once: true }}
                transition={{ delay: index * 0.12 }}
                className={`relative flex gap-8 md:gap-12 items-start mb-16 last:mb-0 ${index % 2 === 0 ? 'flex-row' : 'flex-row-reverse'}`}
              >
                <div className="absolute left-1/2 top-8 w-5 h-5 -translate-x-1/2 rounded-full border-4 border-[#0A1428] bg-red-500 z-10" />

                <div className={`w-20 h-20 md:w-24 md:h-24 rounded-3xl flex-shrink-0 flex items-center justify-center bg-gradient-to-br ${step.color} shadow-xl shadow-black/50 relative z-20`}>
                  <Icon className="w-10 h-10 md:w-12 md:h-12 text-white" strokeWidth={1.75} />
                </div>

                <div className={`flex-1 bg-white/[0.03] border border-white/10 rounded-2xl p-8 hover:border-red-500/30 transition-all group ${step.isBlackBox ? 'border-red-500/40 bg-red-950/10' : ''}`}>
                  <div className="text-5xl md:text-6xl font-mono font-bold mb-2 text-white group-hover:text-red-400 transition-colors">
                    {step.number}
                  </div>
                  <div className="text-xl font-semibold mb-3">{step.label}</div>
                  <p className="text-white/70 leading-relaxed text-[15px] mb-4">{step.description}</p>

                  {step.href ? (
                    <a href={step.href} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-xs font-mono text-white/40 hover:text-red-400 transition-colors">
                      <ExternalLink className="w-3 h-3" />
                      {step.citation}
                    </a>
                  ) : (
                    <span className="text-xs font-mono text-red-400/60">{step.citation}</span>
                  )}

                  {step.isBlackBox && (
                    <div className="mt-6 pt-6 border-t border-red-500/30">
                      <div className="flex items-center gap-3 text-red-400">
                        <AlertCircle className="w-5 h-5" />
                        <span className="font-semibold uppercase tracking-widest text-sm">The Black Box Begins</span>
                      </div>
                      <p className="text-sm text-red-400/80 mt-2">
                        No public database exists to follow these children from this point forward.
                      </p>
                    </div>
                  )}
                </div>
              </motion.div>
            );
          })}
        </div>

        {/* Journey Navigation */}
        </div>
        <JourneyNav currentPath="/pipeline" />
    </div>
  );
}


===== app/risks/page.tsx =====
// app/risks/page.tsx
'use client';

import { motion } from 'framer-motion';
import { Shield, AlertTriangle, Users, Home, ExternalLink } from 'lucide-react';
import Navbar from '@/components/Navbar';
import JourneyNav from '@/components/JourneyNav';

const riskStats = [
  {
    icon: AlertTriangle,
    number: "0.9%",
    label: "Substantiated maltreatment while in foster care",
    detail: "National average per year. But experts warn this figure is significantly underreported.",
    citation: "NCANDS / Child Maltreatment Reports, 2024",
    href: "https://www.acf.hhs.gov/cb/data-research/child-maltreatment",
    color: "text-amber-400"
  },
  {
    icon: Users,
    number: "40–60%",
    label: "Cases where foster parents were the perpetrators",
    detail: "In state-level audits of substantiated abuse within foster homes, foster parents are the perpetrators in 40–60% of cases.",
    citation: "Multiple state child welfare audits; Casey Family Programs",
    href: "https://www.casey.org/research/",
    color: "text-red-400"
  },
  {
    icon: Home,
    number: "30–50%",
    label: "Annual foster home turnover",
    detail: "Homes that quit, are closed, or have licenses revoked each year — creating constant instability for children placed in care.",
    citation: "Casey Family Programs & state licensing reports",
    href: "https://www.casey.org/research/",
    color: "text-orange-400"
  }
];

const stateExamples = [
  { state: "Texas", rate: "1.4%", reported: "Low", note: "Highest volume of removals" },
  { state: "California", rate: "0.7%", reported: "Medium", note: "Large system, varied compliance" },
  { state: "Florida", rate: "1.1%", reported: "Low", note: "High infant removals" },
  { state: "New York", rate: "0.6%", reported: "High", note: "Better reporting compliance" },
];

export default function RisksPage() {
  return (
    <div className="min-h-screen bg-[#0A1428] text-white">
      <Navbar />

      {/* Hero */}
      <section className="pt-28 pb-16">
        <div className="max-w-5xl mx-auto px-6 text-center">
          <motion.div initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }}>
            <div className="uppercase text-red-400 text-sm font-mono tracking-[4px] mb-4">THE HUMAN COST</div>
            <h1 className="text-6xl md:text-7xl font-bold tracking-tighter leading-none mb-6">
              Risks in <span className="text-red-400">Care</span>
            </h1>
            <p className="text-xl text-white/80 max-w-3xl mx-auto">
              Most foster parents are dedicated people doing incredibly hard work.
              <span className="text-red-400"> The system that oversees them is failing both the parents and the children.</span>
            </p>
          </motion.div>
        </div>
      </section>

      {/* Stats */}
      <section className="py-16">
        <div className="max-w-6xl mx-auto px-6">
          <div className="grid md:grid-cols-3 gap-6">
            {riskStats.map((stat, index) => {
              const Icon = stat.icon;
              return (
                <motion.div
                  key={stat.label}
                  initial={{ opacity: 0, y: 40 }}
                  whileInView={{ opacity: 1, y: 0 }}
                  viewport={{ once: true }}
                  transition={{ delay: index * 0.1 }}
                  className="bg-white/[0.03] border border-white/10 rounded-2xl p-8 hover:border-red-500/30 transition-all"
                >
                  <Icon className={`w-12 h-12 ${stat.color} mb-4`} strokeWidth={1.4} />
                  <div className="text-5xl font-mono font-bold mb-2">{stat.number}</div>
                  <div className="text-xl font-semibold leading-tight mb-3">{stat.label}</div>
                  <p className="text-white/60 text-[15px] mb-4">{stat.detail}</p>
                  <a href={stat.href} target="_blank" rel="noopener noreferrer" className="inline-flex items-center gap-1.5 text-xs font-mono text-white/40 hover:text-red-400 transition-colors">
                    <ExternalLink className="w-3 h-3" />
                    {stat.citation}
                  </a>
                </motion.div>
              );
            })}
          </div>
        </div>
      </section>

      {/* Newborn Vulnerability */}
      <section className="py-20 bg-gradient-to-b from-transparent via-red-950/20 to-transparent border-y border-white/5">
        <div className="max-w-4xl mx-auto px-6 text-center">
          <div className="text-red-400 text-sm font-mono tracking-widest mb-4">ESPECIALLY VULNERABLE</div>
          <h2 className="text-4xl font-bold tracking-tighter mb-6">
            Newborns cannot report abuse.
          </h2>
          <p className="text-lg text-white/70 max-w-2xl mx-auto">
            Infants removed at birth are often placed in emergency or stranger foster homes with accelerated approvals.
            When something goes wrong, the child cannot speak, call for help, or run away.
          </p>
        </div>
      </section>

      {/* State Table */}
      <section className="py-20">
        <div className="max-w-5xl mx-auto px-6">
          <div className="mb-8 text-center">
            <h3 className="text-3xl font-bold tracking-tighter mb-2">State-by-State Snapshot</h3>
            <p className="text-white/60">Maltreatment rates while children are in state care</p>
          </div>

          <div className="bg-white/[0.03] border border-white/10 rounded-2xl overflow-hidden">
            <table className="w-full">
              <thead>
                <tr className="border-b border-white/10">
                  <th className="text-left py-5 px-8 text-white/50 font-normal text-xs uppercase tracking-wider">State</th>
                  <th className="text-left py-5 px-8 text-white/50 font-normal text-xs uppercase tracking-wider">In-Care Maltreatment Rate</th>
                  <th className="text-left py-5 px-8 text-white/50 font-normal text-xs uppercase tracking-wider">NCMEC Reporting</th>
                  <th className="text-left py-5 px-8 text-white/50 font-normal text-xs uppercase tracking-wider">Notes</th>
                </tr>
              </thead>
              <tbody className="divide-y divide-white/10">
                {stateExamples.map((row) => (
                  <tr key={row.state} className="hover:bg-white/5 transition-colors">
                    <td className="py-5 px-8 font-semibold">{row.state}</td>
                    <td className="py-5 px-8 text-xl font-mono text-red-400">{row.rate}</td>
                    <td className="py-5 px-8">
                      <span className={`inline-block px-4 py-1 rounded-full text-xs font-medium ${
                        row.reported === 'High' ? 'bg-green-500/20 text-green-400' :
                        row.reported === 'Medium' ? 'bg-amber-500/20 text-amber-400' :
                        'bg-red-500/20 text-red-400'
                      }`}>
                        {row.reported}
                      </span>
                    </td>
                    <td className="py-5 px-8 text-white/60 text-sm">{row.note}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>

          <p className="text-center text-xs text-white/30 mt-6 font-mono">
            Data: NCANDS, AFCARS, state child welfare reports · 2024–2025
          </p>
        </div>
      </section>

      {/* Balanced Closing */}
      <section className="py-24">
        <div className="max-w-4xl mx-auto px-6 text-center">
          <p className="text-2xl leading-relaxed text-white/90">
            The vast majority of foster parents are good people doing a job most of us could never do.
            The problem is the system that places vulnerable newborns into their care —
            <span className="text-red-400"> with inadequate screening, training, and public accountability</span>.
          </p>
        </div>
      </section>

      {/* Journey Navigation */}
      <JourneyNav currentPath="/risks" />
    </div>
  );
}


===== app/sources/page.tsx =====
// app/sources/page.tsx
'use client';

import { motion } from 'framer-motion';
import { Download, ExternalLink, ShieldCheck } from 'lucide-react';
import Navbar from '@/components/Navbar';

const dataSources = [
  {
    source: "AFCARS (Adoption and Foster Care Analysis and Reporting System)",
    description: "Official federal data on children in foster care — entries, exits, demographics, and aggregate outcomes. The primary source for the 328,947 total and 22,097 infant figures used on this site.",
    link: "https://www.acf.hhs.gov/cb/data-research/afcars",
    lastUpdated: "May 2025 (FY2024 data)",
    type: "Federal Dashboard + Reports"
  },
  {
    source: "HHS Office of Inspector General (OIG) Audit",
    description: "Definitive audit identifying 74,353 missing episodes from foster care (2018–2020). Found 69% were never properly reported to the national system. The single most important document on this site.",
    link: "https://oig.hhs.gov/reports/2023/missing-children-from-foster-care/",
    lastUpdated: "July 2023 (still the definitive national audit)",
    type: "Official Federal Audit"
  },
  {
    source: "National Center for Missing & Exploited Children (NCMEC)",
    description: "23,160+ reports of children missing from foster care in 2024. Source for the 1-in-7 trafficking risk estimate for missing foster youth.",
    link: "https://www.missingkids.org/ourwork/impact",
    lastUpdated: "2025 Impact Report",
    type: "Annual Report"
  },
  {
    source: "NCANDS / Child Maltreatment Reports",
    description: "Substantiated maltreatment rates while children are in foster care (0.9% national average). Source for state-by-state maltreatment comparisons.",
    link: "https://www.acf.hhs.gov/cb/data-research/child-maltreatment",
    lastUpdated: "2024 Report",
    type: "Federal Annual Report"
  },
  {
    source: "CDC National Vital Statistics System",
    description: "U.S. births (~3.6 million per year). Establishes the starting point of the pipeline visualization.",
    link: "https://www.cdc.gov/nchs/nvss/index.htm",
    lastUpdated: "2025 Provisional Data",
    type: "Federal Vital Statistics"
  },
  {
    source: "Casey Family Programs & State Audits",
    description: "Foster home turnover rates (30–50% annually), foster parent perpetrator data, and placement stability research.",
    link: "https://www.casey.org/research/",
    lastUpdated: "2024–2025",
    type: "Research Reports"
  }
];

export default function SourcesPage() {
  return (
    <div className="min-h-screen bg-[#0A1428] text-white">
      <Navbar />

      {/* Hero */}
      <section className="pt-28 pb-16">
        <div className="max-w-5xl mx-auto px-6 text-center">
          <motion.div initial={{ opacity: 0, y: 30 }} animate={{ opacity: 1, y: 0 }}>
            <div className="inline-flex items-center gap-3 bg-emerald-500/10 text-emerald-400 px-6 py-3 rounded-3xl text-sm font-mono tracking-widest mb-6">
              <ShieldCheck className="w-5 h-5" />
              100% PUBLIC DATA
            </div>

            <h1 className="text-6xl md:text-7xl font-bold tracking-tighter leading-none mb-6">
              Sources & <span className="text-emerald-400">Methodology</span>
            </h1>

            <p className="text-xl text-white/80 max-w-3xl mx-auto">
              Every number on this site comes from official U.S. government sources.
              No speculation. No anonymous claims. Just receipts.
            </p>
          </motion.div>
        </div>
      </section>

      {/* Sources Table */}
      <section className="py-16 bg-white/[0.02] border-y border-white/5">
        <div className="max-w-6xl mx-auto px-6">
          <div className="mb-8 flex items-center justify-between">
            <h2 className="text-3xl font-bold tracking-tighter">All Primary Sources</h2>
            <div className="text-emerald-400 text-sm font-mono flex items-center gap-2">
              <div className="w-2 h-2 bg-emerald-400 rounded-full animate-pulse" />
              LIVE VERIFIABLE
            </div>
          </div>

          <div className="space-y-4">
            {dataSources.map((item) => (
              <div key={item.source} className="bg-white/[0.03] border border-white/10 rounded-2xl p-6 md:p-8 hover:border-white/20 transition-all">
                <div className="flex flex-col md:flex-row md:items-start justify-between gap-4">
                  <div className="flex-1">
                    <h3 className="text-lg font-semibold mb-2">{item.source}</h3>
                    <p className="text-white/70 text-[15px] leading-relaxed mb-3">{item.description}</p>
                    <div className="flex items-center gap-4 text-xs text-white/40 font-mono">
                      <span className="uppercase tracking-wider">{item.type}</span>
                      <span>·</span>
                      <span>{item.lastUpdated}</span>
                    </div>
                  </div>
                  <a
                    href={item.link}
                    target="_blank"
                    rel="noopener noreferrer"
                    className="flex items-center gap-2 bg-white/10 hover:bg-white/20 border border-white/20 px-5 py-2.5 rounded-xl text-sm font-medium transition-all flex-shrink-0"
                  >
                    <ExternalLink className="w-4 h-4" />
                    Verify
                  </a>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Trust Statement */}
      <section className="py-24 text-center">
        <div className="max-w-3xl mx-auto px-6">
          <p className="text-2xl leading-relaxed text-white/90">
            This website was built to make the truth unavoidable.
            Every statistic is directly traceable to the federal government's own publications.
          </p>
          <div className="mt-10 text-white/40 text-sm font-mono">
            Last updated: February 2026
          </div>
        </div>
      </section>

      {/* CTA */}
      <section className="border-t border-white/5 py-28">
        <div className="max-w-4xl mx-auto text-center px-6">
          <h2 className="text-4xl font-bold mb-6">The data is here. The action is now.</h2>
          <a
            href="/#sign"
            className="inline-block bg-red-600 hover:bg-red-500 text-xl font-bold px-16 py-7 rounded-3xl transition-all active:scale-95 shadow-2xl shadow-red-600/50"
          >
            SIGN THE PETITION →
          </a>
        </div>
      </section>
    </div>
  );
}


===== components/JourneyNav.tsx =====
// components/JourneyNav.tsx
'use client';

import { motion } from 'framer-motion';
import { ArrowRight, CheckCircle } from 'lucide-react';

const journeySteps = [
  {
    href: '/crisis',
    step: '01',
    title: 'The Crisis',
    desc: 'The OIG audit, the 69% gap, and the trafficking link.',
    color: 'from-red-500/20 to-red-600/10',
    activeColor: 'from-red-500/30 to-red-600/20',
    borderActive: 'border-red-500/50',
  },
  {
    href: '/pipeline',
    step: '02',
    title: 'Newborn Pipeline',
    desc: 'From birth to removal — where the public record goes dark.',
    color: 'from-orange-500/20 to-orange-600/10',
    activeColor: 'from-orange-500/30 to-orange-600/20',
    borderActive: 'border-orange-500/50',
  },
  {
    href: '/blackbox',
    step: '03',
    title: 'The Black Box',
    desc: 'What the system legally forbids you from seeing.',
    color: 'from-purple-500/20 to-purple-600/10',
    activeColor: 'from-purple-500/30 to-purple-600/20',
    borderActive: 'border-purple-500/50',
  },
  {
    href: '/risks',
    step: '04',
    title: 'Risks in Care',
    desc: 'Maltreatment, foster home turnover, and newborn vulnerability.',
    color: 'from-amber-500/20 to-amber-600/10',
    activeColor: 'from-amber-500/30 to-amber-600/20',
    borderActive: 'border-amber-500/50',
  },
];

interface JourneyNavProps {
  currentPath: '/crisis' | '/pipeline' | '/blackbox' | '/risks';
}

export default function JourneyNav({ currentPath }: JourneyNavProps) {
  const currentIndex = journeySteps.findIndex((s) => s.href === currentPath);
  const nextIndex = currentIndex + 1;
  const nextStep = nextIndex < journeySteps.length ? journeySteps[nextIndex] : null;

  return (
    <section className="py-24 bg-[#0A1428] border-t border-white/5">
      <div className="max-w-5xl mx-auto px-6">
        {/* Next step callout */}
        {nextStep && (
          <motion.a
            href={nextStep.href}
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className={`group block bg-gradient-to-r ${nextStep.activeColor} border-2 ${nextStep.borderActive} rounded-2xl p-8 mb-10 transition-all hover:-translate-y-0.5`}
          >
            <div className="flex items-center gap-2 text-red-400 text-xs font-mono tracking-[3px] uppercase mb-3">
              <ArrowRight className="w-4 h-4" />
              CONTINUE TO NEXT CHAPTER
            </div>
            <div className="flex items-center justify-between gap-6">
              <div>
                <div className="flex items-center gap-3 mb-1">
                  <span className="text-2xl font-mono font-bold text-white/30">{nextStep.step}</span>
                  <h3 className="text-2xl font-bold group-hover:text-red-400 transition-colors">{nextStep.title}</h3>
                </div>
                <p className="text-white/60">{nextStep.desc}</p>
              </div>
              <ArrowRight className="w-8 h-8 text-white/30 group-hover:text-red-400 group-hover:translate-x-2 transition-all flex-shrink-0" />
            </div>
          </motion.a>
        )}

        {/* If on last page, point to action */}
        {!nextStep && (
          <motion.a
            href="/#sign"
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            className="group block bg-gradient-to-r from-red-500/20 to-red-600/10 border-2 border-red-500/50 rounded-2xl p-8 mb-10 transition-all hover:-translate-y-0.5"
          >
            <div className="flex items-center gap-2 text-red-400 text-xs font-mono tracking-[3px] uppercase mb-3">
              <ArrowRight className="w-4 h-4" />
              YOU'VE SEEN THE EVIDENCE
            </div>
            <div className="flex items-center justify-between gap-6">
              <div>
                <h3 className="text-2xl font-bold group-hover:text-red-400 transition-colors">Sign the Petition</h3>
                <p className="text-white/60">Add your name to demand the Newborn &amp; Foster Child Accountability Act.</p>
              </div>
              <ArrowRight className="w-8 h-8 text-white/30 group-hover:text-red-400 group-hover:translate-x-2 transition-all flex-shrink-0" />
            </div>
          </motion.a>
        )}

        {/* All steps mini-map */}
        <div className="grid grid-cols-4 gap-3">
          {journeySteps.map((page, i) => {
            const isCurrent = page.href === currentPath;
            const isCompleted = i < currentIndex;
            const isNext = i === nextIndex;

            return (
              <motion.a
                key={page.href}
                href={page.href}
                initial={{ opacity: 0, y: 10 }}
                whileInView={{ opacity: 1, y: 0 }}
                viewport={{ once: true }}
                transition={{ delay: i * 0.06 }}
                className={`group block rounded-xl p-4 transition-all border ${
                  isCurrent
                    ? `bg-gradient-to-b ${page.activeColor} ${page.borderActive}`
                    : isNext
                    ? `bg-gradient-to-b ${page.color} border-white/20 hover:-translate-y-0.5`
                    : 'bg-white/[0.02] border-white/10 hover:border-white/20 hover:-translate-y-0.5'
                }`}
              >
                <div className="flex items-center gap-2 mb-1.5">
                  <span className={`text-lg font-mono font-bold ${isCurrent ? 'text-white/60' : 'text-white/20'}`}>
                    {page.step}
                  </span>
                  {isCompleted && <CheckCircle className="w-4 h-4 text-emerald-400/60" />}
                  {isCurrent && <span className="text-[9px] font-mono text-red-400 uppercase tracking-widest">You are here</span>}
                </div>
                <h4 className={`text-sm font-semibold mb-1 ${isCurrent ? 'text-white' : 'text-white/60 group-hover:text-white/80'} transition-colors`}>
                  {page.title}
                </h4>
                <p className="text-[11px] text-white/30 leading-snug hidden sm:block">{page.desc}</p>
              </motion.a>
            );
          })}
        </div>
      </div>
    </section>
  );
}


===== components/Navbar.tsx =====
// components/Navbar.tsx
'use client';
import { ArrowRight, Menu, X } from 'lucide-react';
import Image from 'next/image';
import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { useState } from 'react';

export default function Navbar() {
  const pathname = usePathname();
  const [mobileOpen, setMobileOpen] = useState(false);

  const links = [
    { href: '/', label: 'Home' },
    { href: '/crisis', label: 'The Crisis' },
    { href: '/pipeline', label: 'Newborn Pipeline' },
    { href: '/blackbox', label: 'The Black Box' },
    { href: '/risks', label: 'Risks in Care' },
    { href: '/sources', label: 'Sources' },
  ];

  return (
    <nav className="fixed top-0 left-0 right-0 z-50 bg-[#0A1428]/90 backdrop-blur-lg border-b border-white/10">
      <div className="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
        {/* Logo */}
        <Link href="/" className="flex items-center gap-3 flex-shrink-0">
          <div className="w-9 h-9 rounded-xl overflow-hidden flex items-center justify-center">
            <Image
              src="/icon-32x32.png"
              alt="wherearethechildren logo"
              width={36}
              height={36}
              className="object-contain"
            />
          </div>
          <div>
            <div className="text-xl font-bold tracking-tighter text-white">wherearethechildren</div>
            <div className="text-[10px] text-white/60 -mt-1">.net</div>
          </div>
        </Link>

        {/* Desktop Nav */}
        <div className="hidden xl:flex items-center gap-7 text-sm font-medium">
          {links.map((link) => (
            <Link
              key={link.href}
              href={link.href}
              className={`transition-colors whitespace-nowrap ${
                pathname === link.href
                  ? 'text-red-400 font-semibold'
                  : 'text-white/70 hover:text-red-400'
              }`}
            >
              {link.label}
            </Link>
          ))}
        </div>

        {/* Sign CTA + Mobile toggle */}
        <div className="flex items-center gap-3">
          <Link
            href="/#sign"
            className="bg-red-600 hover:bg-red-500 px-6 py-2.5 rounded-2xl font-semibold text-sm transition-all active:scale-95 flex items-center gap-2 text-white whitespace-nowrap"
          >
            SIGN PETITION
            <ArrowRight className="w-4 h-4" />
          </Link>
          <button
            onClick={() => setMobileOpen(!mobileOpen)}
            className="xl:hidden w-10 h-10 flex items-center justify-center text-white/70 hover:text-white transition-colors"
          >
            {mobileOpen ? <X className="w-6 h-6" /> : <Menu className="w-6 h-6" />}
          </button>
        </div>
      </div>

      {/* Mobile dropdown */}
      {mobileOpen && (
        <div className="xl:hidden bg-[#0A1428]/98 backdrop-blur-xl border-t border-white/10 px-6 py-4 space-y-1">
          {links.map((link) => (
            <Link
              key={link.href}
              href={link.href}
              onClick={() => setMobileOpen(false)}
              className={`block py-3 px-4 rounded-xl transition-colors ${
                pathname === link.href
                  ? 'text-red-400 font-semibold bg-white/5'
                  : 'text-white/70 hover:text-white hover:bg-white/5'
              }`}
            >
              {link.label}
            </Link>
          ))}
        </div>
      )}
    </nav>
  );
}


===== components/OIGFunnel.tsx =====
// components/OIGFunnel.tsx
'use client';

import { motion } from 'framer-motion';
import { ExternalLink } from 'lucide-react';

const funnelSteps = [
  {
    label: "Total missing episodes identified by OIG",
    value: "74,353",
    width: "100%",
    color: "from-red-500/80 to-red-600/80",
    note: "2018–2020 audit period"
  },
  {
    label: "Episodes never properly reported to the national system",
    value: "69%",
    width: "69%",
    color: "from-red-600/90 to-red-700/90",
    note: "~51,303 episodes invisible to federal tracking"
  },
  {
    label: "Episodes reported to NCMEC as required by law",
    value: "31%",
    width: "31%",
    color: "from-red-700 to-red-800",
    note: "Only these were visible to the public system"
  }
];

export default function OIGFunnel() {
  return (
    <div className="max-w-4xl mx-auto">
      <div className="text-center mb-12">
        <div className="text-red-400 text-sm font-mono tracking-widest mb-3">THE OIG AUDIT — THE DEFINITIVE PROOF</div>
        <h2 className="text-4xl md:text-5xl font-bold tracking-tighter mb-4">
          74,353 missing episodes.<br />
          <span className="text-red-400">69% never properly reported.</span>
        </h2>
        <p className="text-lg text-white/60 max-w-2xl mx-auto">
          In 2023, the HHS Office of Inspector General audited missing-from-care reports from 2018–2020. 
          What they found was a systemic reporting failure.
        </p>
      </div>

      <div className="space-y-4">
        {funnelSteps.map((step, i) => (
          <motion.div
            key={i}
            initial={{ opacity: 0, scaleX: 0 }}
            whileInView={{ opacity: 1, scaleX: 1 }}
            viewport={{ once: true }}
            transition={{ delay: i * 0.2, duration: 0.6, ease: 'easeOut' }}
            style={{ width: step.width, transformOrigin: 'left' }}
            className="mx-auto"
          >
            <div className={`bg-gradient-to-r ${step.color} rounded-2xl p-6 md:p-8`}>
              <div className="flex items-center justify-between gap-4">
                <div>
                  <div className="text-3xl md:text-4xl font-mono font-bold">{step.value}</div>
                  <div className="text-white/90 text-sm mt-1">{step.label}</div>
                </div>
                <div className="text-white/60 text-xs text-right font-mono">{step.note}</div>
              </div>
            </div>
          </motion.div>
        ))}
      </div>

      <div className="mt-8 text-center">
        <a
          href="https://oig.hhs.gov/reports/2023/missing-children-from-foster-care/"
          target="_blank"
          rel="noopener noreferrer"
          className="inline-flex items-center gap-2 text-sm font-mono text-white/40 hover:text-red-400 transition-colors"
        >
          <ExternalLink className="w-4 h-4" />
          Read the full HHS OIG Audit Report →
        </a>
      </div>
    </div>
  );
}


===== components/PetitionForm.tsx =====
// components/PetitionForm.tsx
'use client';

import { useState, useEffect } from 'react';
import { Send, ChevronDown, ChevronUp, Target, ExternalLink, Copy, Check, User, EyeOff } from 'lucide-react';
import { motion, AnimatePresence } from 'framer-motion';
import ShareButtons from '@/components/ShareButtons';

const SIGNATURE_GOAL_1 = 10000;
const SIGNATURE_GOAL_2 = 50000;

function buildPetitionText(signerName: string, signerZip?: string) {
  const zipLine = signerZip ? `\nConstituent ZIP code: ${signerZip}` : '';
  return `Dear Members of Congress,

I am writing to demand the immediate passage of the Newborn and Foster Child Accountability Act.

Every year, the state removes approximately 22,000 newborns and infants from their parents and places them into foster care.

The 2023 HHS OIG audit revealed that 69% of missing episodes from foster care were never properly reported to the national system. Thousands of children are lost in a system with zero public visibility.

We demand:

1. Annual public, anonymized dashboards tracking every CPS-involved child from removal to outcome (reunification, adoption, guardianship, or aging out).
2. Automatic, real-time public reporting of every missing-from-care episode to NCMEC.
3. Mandatory state-by-state performance dashboards — open to the public — with standardized metrics.
4. Federal funding tied to compliance and transparent reporting.

Privacy should protect children — not shield a failing system. The public has a right to know where the children are.

Sincerely,
${signerName}${zipLine}`;
}

// Example community messages — replace with real data from your backend
const communityMessages = [
  { name: "Anonymous", message: "As a former foster youth, I aged out with no one checking on me. This system needs sunlight.", time: "2 hours ago" },
  { name: "David R.", message: "My niece was in 7 placements in 2 years. We had no way to track what was happening. This has to change.", time: "5 hours ago" },
  { name: "Anonymous", message: "I'm a social worker. We need these dashboards. I've been saying this for years.", time: "1 day ago" },
  { name: "Anonymous", message: "69% unreported is criminal negligence. Period.", time: "1 day ago" },
  { name: "Priya N.", message: "Every child deserves to be accounted for. This is the bare minimum.", time: "2 days ago" },
];

interface PetitionFormProps {
  compact?: boolean;
}

export default function PetitionForm({ compact = false }: PetitionFormProps) {
  const [formStatus, setFormStatus] = useState<'idle' | 'loading' | 'success'>('idle');
  const [showFullMessage, setShowFullMessage] = useState(false);
  const [customMessage, setCustomMessage] = useState('');
  const [showName, setShowName] = useState(false); // anonymous by default
  const [signatureCount, setSignatureCount] = useState(0);
  const [countLoaded, setCountLoaded] = useState(false);
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');
  const [zip, setZip] = useState('');
  const [copied, setCopied] = useState(false);

  // Hash email client-side (SHA-256) — we never send raw email to our API
  async function hashEmail(email: string): Promise<string> {
    const normalized = email.trim().toLowerCase();
    const encoder = new TextEncoder();
    const data = encoder.encode(normalized);
    const hashBuffer = await crypto.subtle.digest('SHA-256', data);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
  }

  // Fetch real signature count on mount
  useEffect(() => {
    fetch('/api/signatures')
      .then(res => res.json())
      .then(data => {
        setSignatureCount(data.count ?? 0);
        setCountLoaded(true);
      })
      .catch(() => setCountLoaded(true));
  }, []);

  const currentGoal = signatureCount < SIGNATURE_GOAL_1 ? SIGNATURE_GOAL_1 : SIGNATURE_GOAL_2;
  const personalizedLetter = buildPetitionText(name || 'A Concerned Citizen', zip || undefined);

  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    setFormStatus('loading');

    // Capture form data BEFORE any async calls (React recycles the event)
    const form = e.currentTarget;
    const formData = new FormData(form);

    const fullMessage = customMessage.trim()
      ? `${personalizedLetter}\n\n--- PERSONAL MESSAGE ---\n${customMessage}\n\n--- DISPLAY PREFERENCE ---\n${showName ? `Show as: ${name}` : 'Anonymous'}`
      : `${personalizedLetter}\n\n--- DISPLAY PREFERENCE ---\n${showName ? `Show as: ${name}` : 'Anonymous'}`;
    formData.set('message', fullMessage);
    formData.set('petition_letter', personalizedLetter);

    // Check for duplicate email first
    const emailH = await hashEmail(email);
    try {
      const dedupRes = await fetch('/api/signatures', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ emailHash: emailH }),
      });
      const dedupData = await dedupRes.json();

      if (dedupData.duplicate) {
        setSignatureCount(dedupData.count);
        alert('You have already signed this petition. Thank you for your support!');
        setFormStatus('idle');
        return;
      }

      setSignatureCount(dedupData.count);
    } catch {
      // If dedup check fails, continue anyway
    }

    // Submit to Formspree
    try {
      const res = await fetch('https://formspree.io/f/xlgwbzwe', {
        method: 'POST',
        body: formData,
        headers: { Accept: 'application/json' }
      });

      if (res.ok) {
        setFormStatus('success');
      } else {
        alert('Something went wrong. Please try again.');
        setFormStatus('idle');
      }
    } catch (err) {
      alert('Network error. Please try again.');
      setFormStatus('idle');
    }
  };

  const copyLetter = () => {
    navigator.clipboard.writeText(personalizedLetter);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };

  // ═══════════════════════════════════════
  // SUCCESS STATE
  // ═══════════════════════════════════════
  if (formStatus === 'success') {
    return (
      <div className={compact ? '' : 'max-w-3xl mx-auto'}>
        <motion.div
          initial={{ opacity: 0, scale: 0.95 }}
          animate={{ opacity: 1, scale: 1 }}
          className="bg-emerald-500/10 border border-emerald-500/30 rounded-3xl p-6 md:p-10"
        >
          <div className="text-center mb-6">
            <div className="text-5xl mb-3">✊</div>
            <h3 className="text-2xl font-bold text-emerald-400 mb-2">
              Thank you, {name || 'friend'}.
            </h3>
            <p className="text-white/70 text-sm">
              Signature #{signatureCount.toLocaleString()} recorded toward our goal of {currentGoal.toLocaleString()}.
            </p>
            <SignatureProgress count={signatureCount} goal={currentGoal} />
          </div>

          {/* ── STEP 2: Send to Your Reps ── */}
          <div className="mt-8 bg-white/5 border border-white/10 rounded-2xl p-6">
            <div className="text-xs font-mono text-red-400 uppercase tracking-[3px] mb-3">
              STEP 2 — SEND YOUR LETTER DIRECTLY
            </div>
            <p className="text-white/70 text-sm mb-4">
              Your signature is recorded. Now send the letter directly to your representatives —
              it takes about 30 seconds per rep.
            </p>

            {/* Copy letter button */}
            <button
              onClick={copyLetter}
              className="w-full flex items-center justify-center gap-2 bg-white/10 hover:bg-white/20 border border-white/20 py-3 rounded-xl text-sm font-medium transition-all mb-4"
            >
              {copied ? (
                <>
                  <Check className="w-4 h-4 text-emerald-400" />
                  Letter copied to clipboard!
                </>
              ) : (
                <>
                  <Copy className="w-4 h-4" />
                  1. Copy your letter to clipboard
                </>
              )}
            </button>

            {/* Direct links to find & contact reps */}
            <div className="space-y-3">
              <a
                href="https://www.congress.gov/members/find-your-member"
                target="_blank"
                rel="noopener noreferrer"
                className="flex items-center justify-between bg-red-600 hover:bg-red-500 rounded-xl px-5 py-4 transition-all group"
              >
                <div>
                  <div className="font-semibold text-sm">2. Find your Senators & Representative</div>
                  <div className="text-xs text-white/70">
                    Enter your address on congress.gov
                  </div>
                </div>
                <ExternalLink className="w-5 h-5 text-white/70 group-hover:text-white transition-colors" />
              </a>

              <div className="bg-white/5 border border-white/10 rounded-xl px-5 py-4">
                <div className="font-semibold text-sm mb-1">3. Paste the letter into each rep's contact form</div>
                <div className="text-xs text-white/50">
                  Click each representative's name on congress.gov → find their "Contact" page → paste your letter
                </div>
              </div>

              <div className="border-t border-white/10 pt-3 mt-3">
                <div className="text-xs text-white/40 mb-2 font-mono uppercase tracking-widest">Or use Resistbot — even faster</div>
                <a
                  href="https://resist.bot"
                  target="_blank"
                  rel="noopener noreferrer"
                  className="flex items-center justify-between bg-white/5 border border-white/10 rounded-xl px-5 py-4 hover:border-white/20 transition-all"
                >
                  <div>
                    <div className="font-semibold text-sm">Text RESIST to 50409</div>
                    <div className="text-xs text-white/50">Sends your letter to all your reps via text message</div>
                  </div>
                  <ExternalLink className="w-4 h-4 text-white/40" />
                </a>
              </div>
            </div>

            <p className="text-[11px] text-white/30 mt-4 text-center">
              Congressional offices use web forms — that's why we prepare the letter for you to paste.
            </p>
          </div>

          {/* ── Community Messages ── */}
          {customMessage.trim() && (
            <div className="mt-6 bg-white/5 border border-white/10 rounded-2xl p-5 text-left">
              <div className="text-xs font-mono text-white/40 uppercase tracking-widest mb-2">Your message</div>
              <p className="text-white/80 text-sm italic">"{customMessage}"</p>
              <div className="text-xs text-white/30 mt-1">
                Displayed as: {showName ? name : 'Anonymous'}
              </div>
            </div>
          )}

          <div className="mt-6">
            <div className="text-xs font-mono text-white/40 uppercase tracking-widest mb-3 text-center">Messages from fellow signers</div>
            <div className="space-y-2 max-h-48 overflow-y-auto pr-2">
              {communityMessages.map((msg, i) => (
                <motion.div
                  key={i}
                  initial={{ opacity: 0, y: 10 }}
                  animate={{ opacity: 1, y: 0 }}
                  transition={{ delay: i * 0.1 }}
                  className="bg-white/5 border border-white/10 rounded-xl p-3 text-left"
                >
                  <p className="text-white/80 text-sm italic mb-1">"{msg.message}"</p>
                  <div className="text-xs text-white/30">— {msg.name} · {msg.time}</div>
                </motion.div>
              ))}
            </div>
          </div>

          {/* Share — always visible below success state */}
          <ShareButtons compact={compact} />
        </motion.div>
      </div>
    );
  }

  // ═══════════════════════════════════════
  // FORM STATE
  // ═══════════════════════════════════════
  return (
    <div className={compact ? '' : 'max-w-3xl mx-auto'}>
      <SignatureProgress count={signatureCount} goal={currentGoal} />

      <form onSubmit={handleSubmit} className="mt-6 space-y-4">
        {/* Name + Email + ZIP */}
        <div className="grid grid-cols-1 sm:grid-cols-3 gap-3">
          <input
            name="name"
            required
            value={name}
            onChange={(e) => setName(e.target.value)}
            className="bg-white/10 border border-white/20 rounded-2xl px-5 py-4 focus:border-red-400 focus:ring-1 focus:ring-red-400/50 outline-none text-sm placeholder:text-white/30"
            placeholder="Your full name *"
          />
          <input
            name="email"
            type="email"
            required
            value={email}
            onChange={(e) => setEmail(e.target.value)}
            className="bg-white/10 border border-white/20 rounded-2xl px-5 py-4 focus:border-red-400 focus:ring-1 focus:ring-red-400/50 outline-none text-sm placeholder:text-white/30"
            placeholder="Email address *"
          />
          <input
            name="zip"
            value={zip}
            onChange={(e) => setZip(e.target.value)}
            className="bg-white/10 border border-white/20 rounded-2xl px-5 py-4 focus:border-red-400 focus:ring-1 focus:ring-red-400/50 outline-none text-sm placeholder:text-white/30"
            placeholder="ZIP code"
          />
        </div>

        {/* Pre-filled letter preview with name */}
        <div className="bg-white/5 border border-white/10 rounded-2xl overflow-hidden">
          <button
            type="button"
            onClick={() => setShowFullMessage(!showFullMessage)}
            className="w-full flex items-center justify-between px-5 py-3 text-left hover:bg-white/5 transition-colors"
          >
            <span className="text-xs font-mono text-white/50 uppercase tracking-widest">
              {name
                ? `Letter to Congress — signed by ${name}`
                : 'Pre-written letter to Congress (your name will be added)'}
            </span>
            {showFullMessage ? <ChevronUp className="w-4 h-4 text-white/40" /> : <ChevronDown className="w-4 h-4 text-white/40" />}
          </button>
          <AnimatePresence>
            {showFullMessage && (
              <motion.div
                initial={{ height: 0, opacity: 0 }}
                animate={{ height: 'auto', opacity: 1 }}
                exit={{ height: 0, opacity: 0 }}
                transition={{ duration: 0.2 }}
                className="overflow-hidden"
              >
                <div className="px-5 pb-4 text-xs text-white/50 leading-relaxed whitespace-pre-line border-t border-white/10 pt-3">
                  {personalizedLetter}
                </div>
              </motion.div>
            )}
          </AnimatePresence>
        </div>

        {/* Optional personal message */}
        <div className="space-y-2">
          <textarea
            value={customMessage}
            onChange={(e) => setCustomMessage(e.target.value)}
            rows={2}
            className="w-full bg-white/10 border border-white/20 rounded-2xl px-5 py-4 focus:border-red-400 focus:ring-1 focus:ring-red-400/50 outline-none text-sm placeholder:text-white/30 resize-none"
            placeholder="Add a personal message (optional — shown to other signers)"
          />

          {/* Anonymous toggle — only show if they wrote a message */}
          {customMessage.trim() && (
            <motion.div
              initial={{ opacity: 0, height: 0 }}
              animate={{ opacity: 1, height: 'auto' }}
              className="flex items-center gap-3 px-1"
            >
              <button
                type="button"
                onClick={() => setShowName(!showName)}
                className={`relative w-10 h-6 rounded-full transition-colors ${
                  showName ? 'bg-red-500' : 'bg-white/20'
                }`}
              >
                <div
                  className={`absolute top-1 w-4 h-4 rounded-full bg-white transition-transform ${
                    showName ? 'left-5' : 'left-1'
                  }`}
                />
              </button>
              <div className="flex items-center gap-1.5 text-xs text-white/50">
                {showName ? (
                  <>
                    <User className="w-3.5 h-3.5" />
                    Show my name: <span className="text-white/80 font-medium">{name}</span>
                  </>
                ) : (
                  <>
                    <EyeOff className="w-3.5 h-3.5" />
                    Anonymous — your name will not be displayed
                  </>
                )}
              </div>
            </motion.div>
          )}
        </div>

        {/* Submit */}
        <button
          type="submit"
          disabled={formStatus === 'loading'}
          className="w-full bg-red-600 hover:bg-red-500 py-5 rounded-2xl font-bold text-lg transition-all active:scale-[0.98] flex items-center justify-center gap-3 disabled:opacity-70 shadow-xl shadow-red-600/30"
        >
          {formStatus === 'loading' ? (
            'SENDING...'
          ) : (
            <>
              SIGN THE PETITION
              <Send className="w-5 h-5" />
            </>
          )}
        </button>

        <div className="space-y-1.5 text-center text-[11px] text-white/30 px-2">
          <p>
            Your letter is <span className="text-white/50">not sent automatically</span> — after signing, we'll help you send it directly to your representatives.
          </p>
          <p>
            Your name and ZIP are stored to verify petition signatures when delivered to Congress. <span className="text-white/50">We will never sell or share your information.</span>
          </p>
        </div>
      </form>

      {/* Share — always visible below the petition form */}
      <ShareButtons compact={compact} />
    </div>
  );
}

function SignatureProgress({ count, goal }: { count: number; goal: number }) {
  const progress = Math.min((count / goal) * 100, 100);

  return (
    <div className="mb-2">
      <div className="flex items-center justify-between mb-2">
        <div className="flex items-center gap-2">
          <Target className="w-4 h-4 text-red-400" />
          <span className="text-sm font-semibold">
            <span className="text-red-400 font-mono">{count.toLocaleString()}</span>
            <span className="text-white/50"> / {goal.toLocaleString()} signatures</span>
          </span>
        </div>
        <span className="text-xs text-white/40 font-mono">{Math.round(progress)}%</span>
      </div>
      <div className="h-2 bg-white/10 rounded-full overflow-hidden">
        <motion.div
          initial={{ width: 0 }}
          animate={{ width: `${progress}%` }}
          transition={{ duration: 1.5, ease: 'easeOut' }}
          className="h-full bg-gradient-to-r from-red-600 to-red-400 rounded-full"
        />
      </div>
    </div>
  );
}


===== components/ShareButtons.tsx =====
// components/ShareButtons.tsx
'use client';

import { useState } from 'react';
import { Share2, Twitter, Facebook, Linkedin, Mail, Link2, Check } from 'lucide-react';

const SITE_URL = 'https://wherearethechildren.net';
const SHARE_TEXT =
  'Where are the children? 69% of missing foster care episodes go unreported. The government\u2019s own auditors confirmed it. Sign the petition demanding public tracking:';
const SHARE_TITLE = 'Where Are The Children?';
const SHARE_DESCRIPTION =
  '69% of missing-from-care episodes go unreported. Sign the petition for the Newborn & Foster Child Accountability Act.';
const OG_IMAGE = `${SITE_URL}/og-image.jpg`;

interface ShareButtonsProps {
  compact?: boolean;
}

export default function ShareButtons({ compact = false }: ShareButtonsProps) {
  const [copied, setCopied] = useState(false);

  const encodedUrl = encodeURIComponent(SITE_URL);
  const encodedText = encodeURIComponent(SHARE_TEXT);
  const encodedTitle = encodeURIComponent(SHARE_TITLE);
  const encodedDescription = encodeURIComponent(SHARE_DESCRIPTION);

  const shareLinks = {
    twitter: `https://twitter.com/intent/tweet?text=${encodedText}&url=${encodedUrl}`,
    facebook: `https://www.facebook.com/sharer/sharer.php?u=${encodedUrl}`,
    linkedin: `https://www.linkedin.com/sharing/share-offsite/?url=${encodedUrl}`,
    email: `mailto:?subject=${encodedTitle}&body=${encodedText}%20${encodedUrl}`,
  };

  const handleCopyLink = async () => {
    try {
      await navigator.clipboard.writeText(SITE_URL);
      setCopied(true);
      setTimeout(() => setCopied(false), 2500);
    } catch {
      // Fallback for older browsers
      const textarea = document.createElement('textarea');
      textarea.value = SITE_URL;
      document.body.appendChild(textarea);
      textarea.select();
      document.execCommand('copy');
      document.body.removeChild(textarea);
      setCopied(true);
      setTimeout(() => setCopied(false), 2500);
    }
  };

  const handleNativeShare = async () => {
    if (typeof navigator !== 'undefined' && navigator.share) {
      try {
        await navigator.share({
          title: SHARE_TITLE,
          text: SHARE_DESCRIPTION,
          url: SITE_URL,
        });
      } catch {
        // User cancelled or share failed — no action needed
      }
    }
  };

  const hasNativeShare = typeof navigator !== 'undefined' && typeof navigator.share === 'function';

  if (compact) {
    return (
      <div className="flex flex-wrap items-center gap-2 justify-center">
        <span className="text-[11px] text-white/40 font-mono uppercase tracking-widest mr-1">
          Share
        </span>
        <a
          href={shareLinks.twitter}
          target="_blank"
          rel="noopener noreferrer"
          className="w-9 h-9 rounded-xl bg-white/5 hover:bg-[#1DA1F2]/20 border border-white/10 hover:border-[#1DA1F2]/30 flex items-center justify-center transition-all"
          aria-label="Share on X (Twitter)"
        >
          <Twitter className="w-4 h-4 text-white/60" />
        </a>
        <a
          href={shareLinks.facebook}
          target="_blank"
          rel="noopener noreferrer"
          className="w-9 h-9 rounded-xl bg-white/5 hover:bg-[#1877F2]/20 border border-white/10 hover:border-[#1877F2]/30 flex items-center justify-center transition-all"
          aria-label="Share on Facebook"
        >
          <Facebook className="w-4 h-4 text-white/60" />
        </a>
        <a
          href={shareLinks.linkedin}
          target="_blank"
          rel="noopener noreferrer"
          className="w-9 h-9 rounded-xl bg-white/5 hover:bg-[#0A66C2]/20 border border-white/10 hover:border-[#0A66C2]/30 flex items-center justify-center transition-all"
          aria-label="Share on LinkedIn"
        >
          <Linkedin className="w-4 h-4 text-white/60" />
        </a>
        <a
          href={shareLinks.email}
          className="w-9 h-9 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 flex items-center justify-center transition-all"
          aria-label="Share via email"
        >
          <Mail className="w-4 h-4 text-white/60" />
        </a>
        <button
          onClick={handleCopyLink}
          className="w-9 h-9 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 flex items-center justify-center transition-all"
          aria-label="Copy link"
        >
          {copied ? (
            <Check className="w-4 h-4 text-emerald-400" />
          ) : (
            <Link2 className="w-4 h-4 text-white/60" />
          )}
        </button>
      </div>
    );
  }

  return (
    <div className="mt-6 pt-5 border-t border-white/10">
      <div className="flex items-center justify-center gap-2 mb-4">
        <Share2 className="w-4 h-4 text-white/40" />
        <span className="text-xs font-mono text-white/40 uppercase tracking-[3px]">
          Spread the word
        </span>
      </div>

      <div className="flex flex-wrap gap-2.5 justify-center">
        <a
          href={shareLinks.twitter}
          target="_blank"
          rel="noopener noreferrer"
          className="flex items-center gap-2 bg-[#1DA1F2]/10 hover:bg-[#1DA1F2]/20 border border-[#1DA1F2]/20 hover:border-[#1DA1F2]/40 px-4 py-2.5 rounded-xl text-sm font-medium transition-all"
        >
          <Twitter className="w-4 h-4" />
          <span className="text-white/80">X</span>
        </a>

        <a
          href={shareLinks.facebook}
          target="_blank"
          rel="noopener noreferrer"
          className="flex items-center gap-2 bg-[#1877F2]/10 hover:bg-[#1877F2]/20 border border-[#1877F2]/20 hover:border-[#1877F2]/40 px-4 py-2.5 rounded-xl text-sm font-medium transition-all"
        >
          <Facebook className="w-4 h-4" />
          <span className="text-white/80">Facebook</span>
        </a>

        <a
          href={shareLinks.linkedin}
          target="_blank"
          rel="noopener noreferrer"
          className="flex items-center gap-2 bg-[#0A66C2]/10 hover:bg-[#0A66C2]/20 border border-[#0A66C2]/20 hover:border-[#0A66C2]/40 px-4 py-2.5 rounded-xl text-sm font-medium transition-all"
        >
          <Linkedin className="w-4 h-4" />
          <span className="text-white/80">LinkedIn</span>
        </a>

        <a
          href={shareLinks.email}
          className="flex items-center gap-2 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 px-4 py-2.5 rounded-xl text-sm font-medium transition-all"
        >
          <Mail className="w-4 h-4" />
          <span className="text-white/80">Email</span>
        </a>

        <button
          onClick={handleCopyLink}
          className="flex items-center gap-2 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 px-4 py-2.5 rounded-xl text-sm font-medium transition-all"
        >
          {copied ? (
            <>
              <Check className="w-4 h-4 text-emerald-400" />
              <span className="text-emerald-400">Copied!</span>
            </>
          ) : (
            <>
              <Link2 className="w-4 h-4" />
              <span className="text-white/80">Copy Link</span>
            </>
          )}
        </button>

        {hasNativeShare && (
          <button
            onClick={handleNativeShare}
            className="flex items-center gap-2 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 px-4 py-2.5 rounded-xl text-sm font-medium transition-all"
          >
            <Share2 className="w-4 h-4" />
            <span className="text-white/80">More…</span>
          </button>
        )}
      </div>
    </div>
  );
}


===== package.json =====
{
  "name": "wherearethechildren",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "@upstash/redis": "^1.36.2",
    "framer-motion": "^12.34.0",
    "lucide-react": "^0.564.0",
    "next": "^16.1.6",
    "react": "^19.2.4",
    "react-dom": "^19.2.4"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.1.18",
    "@types/node": "^22.0.0",
    "@types/react": "^19.0.0",
    "@types/react-dom": "^19.0.0",
    "eslint": "^9.0.0",
    "eslint-config-next": "15.1.6",
    "postcss": "^8.5.6",
    "tailwindcss": "^4.1.18",
    "typescript": "^5.7.0"
  }
}


===== postcss.config.mjs =====
export default {
  plugins: {
    '@tailwindcss/postcss': {}
  }
};


===== public/project_images/og-image.jpg =====
File not found.

===== tsconfig.json =====
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": false,
    "noEmit": true,
    "incremental": true,
    "module": "esnext",
    "esModuleInterop": true,
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "baseUrl": ".",
    "paths": {
      "@/*": ["./*"]
    },
    "plugins": [
      {
        "name": "next"
      }
    ]
  },
  "include": [
    "next-env.d.ts",
    ".next/types/**/*.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/dev/types/**/*.ts"
  ],
  "exclude": [
    "node_modules"
  ]
}


